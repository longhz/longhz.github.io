<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="每日一句">
    <meta name="author" content="ドラゴンボールのLong">
    
    <title>
        
            React新手进阶学习(一) |
        
        ドラゴンボールのBlog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="shortcut icon" href="/images/favicon.ico">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/font/css/regular.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/font/css/solid.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/font/css/brands.min.css">
    
        
            
        
    
    <script class="keep-theme-configurations">
    const KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"zhongshenglong.xyz","root":"/","language":"zh-CN","path":"search.json"}
    KEEP.theme_config = {"base_info":{"primary_color":"#0066cc","title":"ドラゴンボールのBlog","author":"ドラゴンボールのLong","avatar":"https://cdn.jsdelivr.net/gh/longhz/cdn@1.0/img/custom/avatar1.jpg","logo":"/images/favicon.ico","favicon":"/images/favicon.ico"},"menu":{"home":"/ || fa-solid fa-home","归档":{"icon":"fa-solid fa-book","children":[{"archives":"/archives || fa-solid fa-layer-group"},{"tags":"/tags || fa-solid fa-tags"}]},"links":"/links|| fa-solid fa-link","about":{"icon":"fa-solid fa-user-secret","children":[{"gallery":"/gallery || fa-solid fa-image"},{"about":"/about || fa-solid fa-user-graduate"}]}},"first_screen":{"enable":true,"background_img":"/images/bg.svg","background_img_dark":"/images/bg.svg","description":"黄色的森林分出两条路 || 我选择人迹更少的那一条，从此决定我一生的道路。","hitokoto":true},"social_contact":{"enable":false,"links":{"github":"https://github.com/longhz","weixin":null,"qq":"https://wpa.qq.com/msgrd?v=3&uin=1084045717&site=qq&menu=yes","weibo":null,"bilibili":"https://space.bilibili.com/9317816/bangumi","wangyiyun":"https://music.163.com/user/home?id=1348254961","zhihu":null,"twitter":null,"x":null,"facebook":null,"email":null}},"scroll":{"progress_bar":true,"percent":true,"hide_header":true},"home":{"announcement":null,"category":true,"tag":true,"post_datetime":"updated"},"post":{"author_badge":{"enable":true,"level_badge":true,"custom_badge":["One","Two","Three"]},"word_count":{"wordcount":true,"min2read":true},"datetime_format":"YYYY-MM-DD HH:mm:ss","copyright_info":{"custom_license":"Long License","custom_link":"https://zhongshenglong.xyz"},"share":true,"reward":{"enable":true,"img_link":"/images/reward.jpg","text":"请作者喝咖啡","icon":null}},"code_block":{"tools":{"enable":false,"style":"default"},"highlight_theme":"obsidian"},"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true,"layout":"right"},"website_count":{"busuanzi_count":{"enable":true,"site_uv":true,"site_pv":true,"page_pv":true}},"local_search":{"enable":true,"preload":true},"comment":{"enable":true,"use":"valine","valine":{"appid":"2TGCOmDNikdxOnVmQJEFhTOK-gzGzoHsz","appkey":"lU21jvewvcy043UjfpHRXfvA","server_urls":null,"placeholder":"😜 尽情吐槽吧~"},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.36"},"waline":{"server_url":null,"reaction":false,"version":"3.2.1"},"giscus":{"repo":null,"repo_id":null,"category":"Announcements","category_id":null,"reactions_enabled":false},"artalk":{"server":null},"disqus":{"shortname":null}},"rss":{"enable":true},"lazyload":{"enable":true},"cdn":{"enable":true,"provider":"cdnjs"},"pjax":{"enable":false},"footer":{"since":2019,"word_count":true,"site_deploy":{"enable":true,"provider":"aliyun","url":null},"record":{"enable":true,"list":[{"code":"苏ICP备20001538号-1","link":"https://beian.miit.gov.cn"}]}},"inject":{"enable":true,"css":[null],"js":[null,"/js/love.js"]},"aplayer":{"id":4900925608,"server":"netease","type":"playlist","fixed":true,"autoplay":false,"loop":"all","order":"random","preload":"auto","volume":0.7,"mutex":true},"live2d":{"enable":true,"scriptFrom":"local","pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"use":"live2d-widget-model-liveuu"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}},"root":"","source_data":{"links":[{"name":"IT诗人","link":"https://xpoet.cn/","description":"所有命运的馈赠，早已在暗中标好价格。","avatar":"https://cdn.jsdelivr.net/gh/XPoet/image-hosting@master/common-use/avatar.jpg"},{"name":"不知名艺术家","link":"https://jinzhanqi.com/","description":"love artist, love code.","avatar":"https://s3.ax1x.com/2020/11/17/DVvkB4.jpg"},{"name":"阮一峰","link":"http://www.ruanyifeng.com/blog/archives.html","description":"阮一峰的网络日志","avatar":"https://www.ruanyifeng.com/blog/images/person2_s.jpg"},{"name":"墨","link":"https://www.kura.ren/","description":"清水1024","avatar":"https://www.kura.ren/upload/2020/05/up-up-man-4d2d7e917c9d476b86373b0aa17fcafe.png"},{"name":"爱·绮梦","link":"https://x.iqimeng.com/","description":"学而时习之 不亦说乎","avatar":"https://x.iqimeng.com/images/avatar.jpg"},{"name":"Keep learning","link":"https://blog.gooday.press/","description":"爱好学习，不断提升自我","avatar":"https://cdn.jsdelivr.net/gh/cemonliu/blogpic@main/avatar.svg"},{"name":"CitingNutria","link":"https://citingnutria.github.io/","description":"まだ夢がある","avatar":"https://cdn.jsdelivr.net/gh/CitingNutria/image_hosting@master/avatar.jpg"},{"name":"小龙的跋涉","link":"https://www.eduorg.ltd/","description":"但行好事，莫问前程","avatar":"https://cdn.jsdelivr.net/gh/Xiaolong00/raines-photo@master/blog/favicon.42reb4izcgs0.png"},{"name":"Eveneko","link":"https://eveneko.com/","description":"我们这一生，能做一个优秀的普通人已经足够厉害了！","avatar":"https://cdn.jsdelivr.net/gh/Eveneko/Image-Hosting@master/PicX/A1644732-0330-47D7-A2A1-4EBA8B3C2855.3gp6q5zr8180.jpeg"},{"name":"Nico","link":"https://www.lzp.zone/","description":"蝉歌星夜，月影婆娑","avatar":"https://tva1.sinaimg.cn/large/008i3skNly1gwpe11i8adj301s01smwx.jpg"},{"name":"KAI’S NOTE","link":"https://kainote.top/","description":"三天打鱼(⊙ˍ⊙)两天晒网","avatar":"https://s2.loli.net/2022/01/09/UtbhxHv2IA8jqwZ.jpg"},{"name":"April的记录小屋","link":"https://april-tong.com/","description":"热爱可抵岁月漫长。","avatar":"https://raw.githubusercontent.com/AprilTong/image/master/img/photo.jpeg"},{"name":"ZhengXi","link":"https://zhengxi.io/","description":"你的时间有限，不要为了别人而活","avatar":"https://vip2.loli.io/2022/01/28/8bTLXSIoDckrjfz.png"},{"name":"PMP项目管理","link":"https://pmp.saiita.cn/","description":"学习PMP项目管理的笔记.","avatar":"https://cdn.saiita.com.cn/picgo/P3260015.JPG"},{"name":"开心驿站","link":"https://www.kxyz.eu.org/","description":"steam游戏交流中心","avatar":"https://www.kxyz.eu.org/wp-content/uploads/logo.png"},{"name":"免费公益v2ray节点订阅","link":"https://www.v2rayfree.eu.org/","description":"免费公益v2ray节点订阅","avatar":"https://www.v2rayfree.eu.org/images/avatar.png"},{"name":"ZXC's Blog","link":"https://www.v2rayfree.eu.org/","description":"生命不息，代码不止","avatar":"https://cdn.jsdelivr.net/gh/XavierJiezou/picx-image-hosting@main/about/avatar.jpg"},{"name":"FallenGemini的博客","link":"https://paraderno.github.io/Blog.github.io/","description":"愿地狱的终点是天堂","avatar":"https://raw.githubusercontent.com/Paraderno/image-hosting/master/avatar.3co1ubx6en80.png"},{"name":"AomanHao的博客","link":"https://www.aomanhao.top/","description":"热爱图像处理，优化彩色世界","avatar":"https://www.aomanhao.top/images/Avatar.jpg"},{"name":"༺ཌ༈君☠纤༈ད༻的博客","link":"https://www.cnblogs.com/asio/","description":"欲买桂花同载酒，荒泷天下第一斗。","avatar":"https://pic.cnblogs.com/avatar/1924746/20200215183155.png"},{"name":"clash免费节点","link":"https://clashfree.eu.org/","description":"ssr/v2ray/clash免费节点分享","avatar":"https://clashfree.eu.org/wp-content/uploads/avatar.png"}]},"version":"4.2.3"}
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"}
    KEEP.language_code_block = {"copy":"复制代码","copied":"已复制","fold":"折叠代码块","folded":"已折叠"}
    KEEP.language_copy_copyright = {"copy":"复制版权信息","copied":"已复制","title":"原文标题","author":"原文作者","link":"原文链接"}
  </script>
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="❦༺  LONGZ ༻❦" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>



<main class="page-container border-box">
    <!-- home first screen  -->
    

    <!-- page content -->
    <div class="page-main-content border-box">
        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="border-box header-content">
        <div class="left flex-start border-box">
            
                <a class="logo-image border-box" href="/">
                    <img src="/images/favicon.ico">
                </a>
            
            <a class="site-name border-box" href="/">
               ドラゴンボールのBlog
            </a>
        </div>

        <div class="right border-box">
            <div class="pc border-box">
                <ul class="menu-list border-box">
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-home"></i>
                                
                                首页
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box has-sub-menu">
                            <a class="menu-text-color border-box" href="javascript:void(0);">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-book"></i>
                                
                                归档
                                
                                    <i class="menu-text-color collapse-icon fa-solid fa-angle-down"></i>
                                
                            </a>
                            
                                <ul class="sub-menu-list border-box">
                                    
                                        
                                        <li class="sub-menu-item border-box ">
                                            <a class="menu-text-color border-box flex-start" href="/archives">
                                                
                                                    <i class="menu-text-color sub-menu-icon fa-solid fa-layer-group"></i>
                                                
                                                归档
                                            </a>
                                        </li>
                                    
                                        
                                        <li class="sub-menu-item border-box ">
                                            <a class="menu-text-color border-box flex-start" href="/tags">
                                                
                                                    <i class="menu-text-color sub-menu-icon fa-solid fa-tags"></i>
                                                
                                                标签
                                            </a>
                                        </li>
                                    
                                </ul>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box">
                            <a class="menu-text-color border-box" href="/links">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-link"></i>
                                
                                友链
                                
                            </a>
                            
                        </li>
                    
                        
                        <li class="menu-item flex-start border-box has-sub-menu">
                            <a class="menu-text-color border-box" href="javascript:void(0);">
                                
                                    <i class="menu-text-color menu-icon fa-solid fa-user-secret"></i>
                                
                                关于
                                
                                    <i class="menu-text-color collapse-icon fa-solid fa-angle-down"></i>
                                
                            </a>
                            
                                <ul class="sub-menu-list border-box">
                                    
                                        
                                        <li class="sub-menu-item border-box ">
                                            <a class="menu-text-color border-box flex-start" href="/gallery">
                                                
                                                    <i class="menu-text-color sub-menu-icon fa-solid fa-image"></i>
                                                
                                                GALLERY
                                            </a>
                                        </li>
                                    
                                        
                                        <li class="sub-menu-item border-box ">
                                            <a class="menu-text-color border-box flex-start" href="/about">
                                                
                                                    <i class="menu-text-color sub-menu-icon fa-solid fa-user-graduate"></i>
                                                
                                                关于
                                            </a>
                                        </li>
                                    
                                </ul>
                            
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="menu-text-color fas search fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile border-box flex-start">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list border-box">
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-home"></i>
                                </span>
                            
                            首页
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box has-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="javascript:void(0);">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-book"></i>
                                </span>
                            
                            归档
                        </a>
                        
                            <i class="right-side collapse-icon fa-solid fa-angle-left"></i>
                        
                    </label>
                    
                        <ul class="drawer-sub-menu-list border-box">
                            
                                
                                <li class="sub-menu-item border-box">
                                    <a class="drawer-menu-text-color border-box flex-start" href="/archives">
                                        
                                            <span class="sub-menu-icon-wrap border-box flex-center">
                                                <i class="drawer-menu-text-color sub-menu-icon fa-solid fa-layer-group"></i>
                                            </span>
                                        
                                        归档
                                    </a>
                                </li>
                            
                                
                                <li class="sub-menu-item border-box">
                                    <a class="drawer-menu-text-color border-box flex-start" href="/tags">
                                        
                                            <span class="sub-menu-icon-wrap border-box flex-center">
                                                <i class="drawer-menu-text-color sub-menu-icon fa-solid fa-tags"></i>
                                            </span>
                                        
                                        标签
                                    </a>
                                </li>
                            
                        </ul>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box not-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="/links">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-link"></i>
                                </span>
                            
                            友链
                        </a>
                        
                    </label>
                    
                </li>
            
                
                <li class="drawer-menu-item border-box has-sub-menu">
                    <label class="drawer-menu-label border-box">
                        <a class="drawer-menu-text-color left-side flex-start border-box" href="javascript:void(0);">
                            
                                <span class="menu-icon-wrap border-box flex-center">
                                    <i class="drawer-menu-text-color menu-icon fa-solid fa-user-secret"></i>
                                </span>
                            
                            关于
                        </a>
                        
                            <i class="right-side collapse-icon fa-solid fa-angle-left"></i>
                        
                    </label>
                    
                        <ul class="drawer-sub-menu-list border-box">
                            
                                
                                <li class="sub-menu-item border-box">
                                    <a class="drawer-menu-text-color border-box flex-start" href="/gallery">
                                        
                                            <span class="sub-menu-icon-wrap border-box flex-center">
                                                <i class="drawer-menu-text-color sub-menu-icon fa-solid fa-image"></i>
                                            </span>
                                        
                                        GALLERY
                                    </a>
                                </li>
                            
                                
                                <li class="sub-menu-item border-box">
                                    <a class="drawer-menu-text-color border-box flex-start" href="/about">
                                        
                                            <span class="sub-menu-icon-wrap border-box flex-center">
                                                <i class="drawer-menu-text-color sub-menu-icon fa-solid fa-user-graduate"></i>
                                            </span>
                                        
                                        关于
                                    </a>
                                </li>
                            
                        </ul>
                    
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle border-box">

            <div class="main-content border-box">
                

                    
<div class="fade-in-down-animation">
    <div class="post-page-container border-box">
        <div class="post-content-container border-box">
            

            <div class="post-content-bottom border-box">
                
                    <div class="post-title">
                        React新手进阶学习(一)
                    </div>
                

                
                    <div class="post-header border-box">
                        
                            <div class="avatar-box border-box">
                                <img src="http://cdns.zhongshenglong.xyz/cdn-photos/img/custom/avatar1.jpg">
                            </div>
                        
                        <div class="info-box">
                            <div class="author border-box">
                                <span class="name">岁月如梦</span>
                                
                                    <span class="author-badge">Lv4</span>
                                
                            </div>
                            <div class="meta-info border-box">
                                

<div class="post-meta-info-container border-box post">
    <div class="post-meta-info border-box">
        

        
            <span class="meta-info-item post-create-date">
                <i class="icon fa-solid fa-calendar-plus"></i>&nbsp;
                <span class="datetime">2023-07-13 08:10:12</span>
            </span>

            <span class="meta-info-item post-update-date">
                <i class="icon fa-solid fa-file-pen"></i>&nbsp;
                <span class="datetime" data-updated="Sat Jul 15 2023 18:27:26 GMT+0800">2023-07-15 18:27:26</span>
            </span>
        

        
            <span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;
                <ul class="post-category-ul">
                    
                            <li class="category-item"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></li>
                        
                    
                </ul>
            </span>
        

        
            <span class="post-tag meta-info-item border-box">
                <ul class="post-tag-ul">
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/%E6%8A%80%E6%9C%AF/">技术</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/%E5%BF%83%E5%BE%97/">心得</a></li>
                        
                    
                            <li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/React/">React</a></li>
                        
                    
                </ul>
            </span>
        

        
        
            <span class="meta-info-item post-wordcount">
                <i class="icon fas fa-file-word"></i>&nbsp;<span>17.6k 字</span>
            </span>
        
        
            <span class="meta-info-item post-min2read">
                <i class="icon fas fa-clock"></i>&nbsp;<span>72 分钟</span>
            </span>
        
        
            <span class="meta-info-item post-pv">
                <i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
            </span>
        
    </div>

    
</div>

                            </div>
                        </div>
                    </div>
                

                <div class="post-content keep-markdown-body ">
                    

                    
                         <h1 id="React新手进阶学习-一"><a href="#React新手进阶学习-一" class="headerlink" title="React新手进阶学习(一)"></a>React新手进阶学习(一)</h1><blockquote>
<p>官方的学习文档地址 (用于构建 Web 和原生交互界面的库) : <a class="link"   target="_blank" rel="noopener" href="https://react.docschina.org/" >https://react.docschina.org/<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><blockquote>
<p>推荐 Next.js <strong>React 框架</strong></p>
</blockquote>
<p>​	<strong><a class="link"   target="_blank" rel="noopener" href="https://nextjs.org/" >Next.js<i class="fas fa-external-link-alt"></i></a> 是一个全栈式的 React 框架</strong>。</p>
<p>​	它用途广泛，可以让你创建任意规模的 React 应用——可以是静态博客，也可以是复杂的动态应用。</p>
<p>​	要创建一个新的 Next.js 项目，请在你的终端运行（需要先安装npm install -g npx）:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-next-app</span><br></pre></td></tr></table></figure>



<h2 id="Readme-前言"><a href="#Readme-前言" class="headerlink" title="Readme (前言)"></a>Readme (前言)</h2><h3 id="计数器"><a href="#计数器" class="headerlink" title="计数器"></a>计数器</h3><p>​	命令式编程(给他一个命令就执行一个命令)： <code>js, jquery</code></p>
<p>​	声明式编程： <code>React, Vue</code></p>
<h3 id="两者的区别是什么？"><a href="#两者的区别是什么？" class="headerlink" title="两者的区别是什么？"></a>两者的区别是什么？</h3><p><strong>命令式编程和声明式编程是两种不同的编程范式。</strong></p>
<ul>
<li>命令式编程需要明确指定程序的每一个步骤和控制流程，关注具体的实现细节和算法。</li>
<li>声明式编程只需描述要实现的目标，不需要详细指定步骤和顺序，关注问题的描述和抽象。</li>
<li>在命令式编程中，处理更低级的细节，控制数据的状态和变化；在声明式编程中，关注问题的描述和抽象。</li>
<li>声明式编程更可读、可维护，代码更接近自然语言；命令式编程可能需要更多注释和解释。</li>
<li>声明式编程更具可复用性，可以定义通用规则和函数；命令式编程更依赖具体的状态和操作。</li>
<li>声明式编程更容易进行并行处理和优化，编译器或运行时系统可以更好地进行优化；命令式编程中的优化和并行化可能较具挑战性。</li>
<li>不同的编程语言和框架可以结合两种编程范式的特点，并根据需求和个人偏好进行选择。</li>
</ul>
<h2 id="第一个组件"><a href="#第一个组件" class="headerlink" title="第一个组件"></a>第一个组件</h2><blockquote>
<p><strong>组件</strong> 是 React 的核心概念之一。它们是构建用户界面（UI）的基础，是你开始 React 之旅的最佳起点！</p>
</blockquote>
<h3 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h3><p>​	你第一次体验 React！让我们先记住一些关键点,带着这些来进行深入学习。</p>
<p>在本章节中，你将学到：</p>
<ul>
<li><p>什么是组件?</p>
<ul>
<li>React 允许你创建组件，<strong>应用程序为可复用 UI 元素</strong>。</li>
</ul>
</li>
<li><p>组件在 React 应用中扮演的角色</p>
<ul>
<li>在 React 应用程序中，每一个 UI 模块都是一个组件。</li>
</ul>
</li>
<li><p>如何编写你的第一个 React 组件</p>
<ul>
<li>React 是常规的 JavaScript 函数，除了：<ol>
<li>它们的名字总是以大写字母开头。</li>
<li>它们返回 JSX 标签。</li>
</ol>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="什么是组件？"><a href="#什么是组件？" class="headerlink" title="什么是组件？"></a>什么是组件？</h3><blockquote>
<p><strong>React 组件是一段可以 使用标签进行扩展 的 JavaScript 函数</strong>。</p>
</blockquote>
<p>​	示例:</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">## 创建一个App.js,拷贝下方的代码</span><br><span class="line"></span><br><span class="line">export default function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img </span><br><span class="line">       src=&quot;https://i.imgur.com/MK3eW3Am.jpg&quot; </span><br><span class="line">      alt=&quot;Katherine Johnson&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="解析说明"><a href="#解析说明" class="headerlink" title="解析说明"></a>解析说明</h3><h4 id="注意事项-非常重要"><a href="#注意事项-非常重要" class="headerlink" title="注意事项(非常重要)"></a>注意事项(非常重要)</h4><blockquote>
<p>React 组件是常规的 JavaScript 函数，但 <strong>组件的名称必须以大写字母开头</strong>，否则它们将无法运行！</p>
</blockquote>
<h4 id="导出组件"><a href="#导出组件" class="headerlink" title="导出组件"></a>导出组件</h4><p>​	<code>export default</code> 前缀是一种 <a class="link"   target="_blank" rel="noopener" href="https://developer.mozilla.org/docs/web/javascript/reference/statements/export" >JavaScript 标准语法<i class="fas fa-external-link-alt"></i></a>（非 React 的特性）。它允许你标签一个文件中的主要函数以便你以后可以从其他文件引入它。</p>
<h4 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h4><p>​	使用 <code>function Profile() &#123; &#125;</code> 定义名为 <code>Profile</code> 的 JavaScript 函数。</p>
<h4 id="添加标签"><a href="#添加标签" class="headerlink" title="添加标签"></a>添加标签</h4><p>​	这个组件返回一个带有 <code>src</code> 和 <code>alt</code> 属性的 <code>&lt;img /&gt;</code> 标签。<code>&lt;img /&gt;</code> 写得像 HTML，但实际上是 JavaScript！这种语法被称为 <a class="link"   target="_blank" rel="noopener" href="https://react.docschina.org/learn/writing-markup-with-jsx" >JSX<i class="fas fa-external-link-alt"></i></a>，它允许你在 JavaScript 中嵌入使用标签。</p>
<p>返回语句可以全写在一行上，如下面组件中所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return &lt;img   src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot;  alt=&quot;Katherine Johnson&quot; &gt;;</span><br></pre></td></tr></table></figure>

<p>​	但是，如果你的标签和 <code>return</code> 关键字不在同一行，则必须把它包裹在一对括号中，<strong>没有括号包裹的话，任何在 <code>return</code> 下一行的代码都 将被忽略</strong></p>
<p>如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 包裹必须用 &lt;&gt; &lt;/&gt;或者 &lt;div&gt; &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">return (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;img   src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot;  alt=&quot;Katherine Johnson&quot; &gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>





<h3 id="使用组件"><a href="#使用组件" class="headerlink" title="使用组件"></a>使用组件</h3><p>​	现在你已经定义了 <code>Profile</code> 组件，你可以在其他组件中使用它。</p>
<p>​	例如，你可以导出一个内部使用了多个 <code>Profile</code> 组件的 <code>Gallery</code> 组件：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img </span><br><span class="line">       src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot; </span><br><span class="line">      alt=&quot;Katherine Johnson&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function Gallery() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;了不起的科学家&lt;/h1&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/5074165af81083b07a9bf.png"
                        alt="pC5UCL9.png"
                 ></p>
<h4 id="解析上方的代码"><a href="#解析上方的代码" class="headerlink" title="解析上方的代码"></a>解析上方的代码</h4><p>注意下面两者的区别：</p>
<ul>
<li><code>&lt;section&gt;</code> 是小写的，所以 React 知道我们指的是 HTML 标签。</li>
<li><code>&lt;Profile /&gt;</code> 以大写 <code>P</code> 开头，所以 React 知道我们想要使用名为 <code>Profile</code> 的组件。</li>
</ul>
<p>然而 <code>Profile</code> 包含更多的 HTML：<code>&lt;img /&gt;</code>。这是浏览器最后所看到的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;section&gt;</span><br><span class="line">  &lt;h1&gt;了不起的科学家&lt;/h1&gt;</span><br><span class="line">  &lt;img   src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot;  alt=&quot;Katherine Johnson&quot; &gt;</span><br><span class="line">  &lt;img   src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot;  alt=&quot;Katherine Johnson&quot; &gt;</span><br><span class="line">  &lt;img   src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot;  alt=&quot;Katherine Johnson&quot; &gt;</span><br><span class="line">&lt;/section&gt;</span><br></pre></td></tr></table></figure>



<h3 id="嵌套和组织组件"><a href="#嵌套和组织组件" class="headerlink" title="嵌套和组织组件"></a>嵌套和组织组件</h3><blockquote>
<p>组件是常规的 JavaScript 函数，所以你可以将多个组件保存在同一份文件中。当组件相对较小或彼此紧密相关时，这是一种省事的处理方式。如果这个文件变得臃肿，你也可以随时将 <code>Profile</code> 移动到单独的文件中。</p>
</blockquote>
<p>​	因为 <code>Profile</code> 组件在 <code>Gallery</code> 组件中渲染——甚至好几次！——我们可以认为 <code>Gallery</code> 是一个 <strong>父组件</strong>，将每个 <code>Profile</code> 渲染为一个“孩子”。</p>
<p>​	这是 React 的神奇之处：你可以只定义组件一次，然后按需多处和多次使用。</p>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>​	组件可以渲染其他组件，但是 <strong>请不要嵌套他们的定义</strong>,例如:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export default function Gallery() &#123;</span><br><span class="line">  // 🔴 永远不要在组件中定义组件</span><br><span class="line">  function Profile() &#123;</span><br><span class="line">    // ...</span><br><span class="line">  &#125;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	上面这段代码 非常慢，并且会导致 bug 产生。因此，你应该在顶层定义每个组件, 当子组件需要使用父组件的数据时，你需要 通过 props 的形式进行传递，而不是嵌套定义。：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export default function Gallery() &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ✅ 在顶层声明组件</span><br><span class="line">function Profile() &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="组件的导入与导出"><a href="#组件的导入与导出" class="headerlink" title="组件的导入与导出"></a>组件的导入与导出</h2><p>组件的神奇之处在于它们的可重用性：</p>
<ul>
<li>你可以创建一个由其他组件构成的组件。</li>
<li>但当你嵌套了越来越多的组件时，则需要将它们拆分成不同的文件。</li>
<li>这样可以使得查找文件更加容易，并且能在更多地方复用这些组件。</li>
</ul>
<h3 id="摘要-1"><a href="#摘要-1" class="headerlink" title="摘要"></a>摘要</h3><p>在本章节中，你将学到：</p>
<ul>
<li>何为根组件</li>
<li>如何导入和导出一个组件</li>
<li>默认导出 和 具名导出 区别是什么</li>
<li>何时和如何使用默认和具名导入导出</li>
<li>如何在一个文件里导出多个组件</li>
</ul>
<hr>
<h3 id="根组件文件"><a href="#根组件文件" class="headerlink" title="根组件文件"></a>根组件文件</h3><p>​	在 <a class="link"   target="_blank" rel="noopener" href="https://react.docschina.org/learn/your-first-component" >你的第一个组件<i class="fas fa-external-link-alt"></i></a> 中，你创建了一个 <code>Profile</code> 组件，并且渲染在 <code>Gallery</code> 组件里。</p>
<p>​	在下方的示例中,所有组件目前都定义在<strong>根组件</strong> <code>App.js</code> 文件中，在 <a class="link"   target="_blank" rel="noopener" href="https://create-react-app.dev/" >Create React App<i class="fas fa-external-link-alt"></i></a> 中，你的应用应在 <code>src/App.js</code> 文件中定义。具体还需根据项目配置决定，有些根组件可能会声明在其他文件中。如果你使用的框架基于文件进行路由，如 Next.js，那你每个页面的根组件都会不一样。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img </span><br><span class="line">       src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot; </span><br><span class="line">      alt=&quot;Katherine Johnson&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function Gallery() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;了不起的科学家们&lt;/h1&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/693f67722463ba29b7219.png"
                       
                 ></p>
<h3 id="导出和导入一个组件"><a href="#导出和导入一个组件" class="headerlink" title="导出和导入一个组件"></a>导出和导入一个组件</h3><p>​	如果将来需要在首页添加关于科学书籍的列表，亦或者需要将所有的资料信息移动到其他文件。这时将 <code>Gallery</code> 组件和 <code>Profile</code> 组件移出根组件文件会更加合理。这会使组件更加模块化，并且可在其他文件中复用。你可以根据以下三个步骤对组件进行拆分：</p>
<ul>
<li>创建 一个新的 JS 文件来存放该组件。</li>
<li>导出 该文件中的函数组件（可以使用 默认导出 或 具名导出）</li>
<li>在需要使用该组件的文件中 导入（可以根据相应的导出方式使用 默认导入 或 具体名称导入）。</li>
</ul>
<p>​	这里将 <code>Profile</code> 组件和 <code>Gallery</code> 组件，从 <code>App.js</code> 文件中移动到了 <code>Gallery.js</code> 文件中 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">## 创建 Gallery.js , 复制以下代码</span><br><span class="line"></span><br><span class="line">function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img </span><br><span class="line">       src=&quot;https://i.imgur.com/QIrZWGIs.jpg&quot; </span><br><span class="line">      alt=&quot;Alan L. Hart&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function Gallery() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;了不起的科学家们&lt;/h1&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	修改后，即可在 <code>App.js</code> 中导入 <code>Gallery.js</code> 中的 <code>Gallery</code> 组件:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import Gallery from &#x27;./Gallery.js&#x27;;</span><br><span class="line"></span><br><span class="line">export default function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Gallery /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/e22d1819c6d09c9f31ef9.png"
                       
                 ></p>
<h4 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h4><p>​	该示例中需要注意的是，如何将组件拆分成两个文件：</p>
<ol>
<li><p><code>Gallery.js</code>:</p>
<ul>
<li>定义了 <code>Profile</code> 组件，该组件仅在该文件内使用，没有被导出。</li>
<li>使用 <strong>默认导出</strong> 的方式，将 <code>Gallery</code> 组件导出</li>
</ul>
</li>
<li><p><code>App.js</code>:</p>
<ul>
<li>使用 <strong>默认导入</strong> 的方式，从 <code>Gallery.js</code> 中导入 <code>Gallery</code> 组件。</li>
<li>使用 <strong>默认导出</strong> 的方式，将根组件 <code>App</code> 导出。</li>
</ul>
</li>
</ol>
<p>引入过程中，你可能会遇到一些文件并未添加 <code>.js</code> 文件后缀，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Gallery from &#x27;./Gallery&#x27;;</span><br></pre></td></tr></table></figure>

<p>无论是 <code>&#39;./Gallery.js&#39;</code> 还是 <code>&#39;./Gallery&#39;</code>，在 React 里都能正常使用，只是前者更符合 <a class="link"   target="_blank" rel="noopener" href="https://developer.mozilla.org/docs/Web/JavaScript/Guide/Modules" >原生 ES 模块<i class="fas fa-external-link-alt"></i></a>。</p>
<h3 id="默认导出-vs-具名导出"><a href="#默认导出-vs-具名导出" class="headerlink" title="默认导出 vs 具名导出"></a>默认导出 vs 具名导出</h3><p>​	这是 JavaScript 里两个主要用来导出值的方式：默认导出和具名导出。到目前为止，我们的示例中只用到了默认导出。但你可以在一个文件中，选择使用其中一种，或者两种都使用。<strong>一个文件里有且仅有一个 *默认* 导出，但是可以有任意多个 *具名* 导出。</strong></p>
<p>​	组件的导出方式决定了其导入方式。当你用默认导入的方式，导入具名导出的组件时，就会报错。如下表格可以帮你更好地理解它们：</p>
<table>
<thead>
<tr>
<th>语法</th>
<th>导出语句</th>
<th>导入语句</th>
</tr>
</thead>
<tbody><tr>
<td>默认</td>
<td><code>export default function Button() &#123;&#125;</code></td>
<td><code>import Button from &#39;./Button.js&#39;;</code></td>
</tr>
<tr>
<td>具名</td>
<td><code>export function Button() &#123;&#125;</code></td>
<td><code>import &#123; Button &#125; from &#39;./Button.js&#39;;</code></td>
</tr>
</tbody></table>
<p>​	当使用默认导入时，你可以在 <code>import</code> 语句后面进行任意命名。比如 <code>import Banana from &#39;./Button.js&#39;</code>，如此你能获得与默认导出一致的内容。相反，对于具名导入，导入和导出的名字必须一致。这也是为什么称其为 <strong>具名</strong> 导入的原因！</p>
<p>​	<strong>通常，文件中仅包含一个组件时，人们会选择默认导出，而当文件中包含多个组件或某个值需要导出时，则会选择具名导出。</strong> 无论选择哪种方式，请记得给你的组件和相应的文件命名一个有意义的名字。我们不建议创建未命名的组件，比如 <code>export default () =&gt; &#123;&#125;</code>，因为这样会使得调试变得异常困难。</p>
<h3 id="从同一文件中导出和导入多个组件"><a href="#从同一文件中导出和导入多个组件" class="headerlink" title="从同一文件中导出和导入多个组件"></a>从同一文件中导出和导入多个组件</h3><p>​	如果你只想展示一个 <code>Profile</code> 组，而不展示整个图集。你也可以导出 <code>Profile</code> 组件。但 <code>Gallery.js</code> 中已包含 <strong>默认</strong> 导出，此时，你不能定义 <strong>两个</strong> 默认导出。但你可以将其在新文件中进行默认导出，或者将 <code>Profile</code> 进行 <strong>具名</strong> 导出。<strong>同一文件中，有且仅有一个默认导出，但可以有多个具名导出！</strong></p>
<blockquote>
<p>注意:</p>
<p>​	为了减少在默认导出和具名导出之间的混淆，一些团队会选择只使用一种风格（默认或者具名），或者禁止在单个文件内混合使用。这因人而异，选择最适合你的即可！</p>
</blockquote>
<p>首先，用具名导出的方式，将 <code>Profile</code> 组件从 <code>Gallery.js</code> <strong>导出</strong>（不使用 <code>default</code> 关键字）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export function Profile() &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接着，用具名导入的方式，从 <code>Gallery.js</code> 文件中 <strong>导入</strong> <code>Profile</code> 组件（用大括号）:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Profile &#125; from &#x27;./Gallery.js&#x27;;</span><br></pre></td></tr></table></figure>

<p>最后，在 <code>App</code> 组件里 <strong>渲染</strong> <code>&lt;Profile /&gt;</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default function App() &#123;</span><br><span class="line">  return &lt;Profile /&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在，<code>Gallery.js</code> 包含两个导出：一个是默认导出的 <code>Gallery</code>，另一个是具名导出的 <code>Profile</code>。<code>App.js</code> 中均导入了这两个组件。尝试将 <code>&lt;Profile /&gt;</code> 改成 <code>&lt;Gallery /&gt;</code>，回到示例中：</p>
<p>APP.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import Gallery from &#x27;./Gallery.js&#x27;;</span><br><span class="line">import &#123; Profile &#125; from &#x27;./Gallery.js&#x27;;</span><br><span class="line"></span><br><span class="line">export default function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Profile /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Gallery.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">export function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img </span><br><span class="line">       src=&quot;https://i.imgur.com/QIrZWGIs.jpg&quot; </span><br><span class="line">      alt=&quot;Alan L. Hart&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function Gallery() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;了不起的科学家们&lt;/h1&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">      &lt;Profile /&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>示例中混合使用了默认导出和具名导出：</p>
<ul>
<li><p><code>Gallery.js</code>:</p>
<ul>
<li>使用 <strong>具名导出</strong> 的方式，将 <code>Profile</code> 组件导出，并取名为 <code>Profile</code>。</li>
<li>使用 <strong>默认导出</strong> 的方式，将 <code>Gallery</code> 组件导出。</li>
</ul>
</li>
<li><p><code>App.js</code>:</p>
<ul>
<li>使用 <strong>具名导入</strong> 的方式，从 <code>Gallery.js</code> 中导入 <code>Profile</code> 组件，并取名为 <code>Profile</code>。</li>
<li>使用 <strong>默认导入</strong> 的方式，从 <code>Gallery.js</code> 中导入 <code>Gallery</code> 组件。</li>
<li>使用 <strong>默认导出</strong> 的方式，将根组件 <code>App</code> 导出。</li>
</ul>
</li>
</ul>
<h2 id="使用-JSX-书写标签语言"><a href="#使用-JSX-书写标签语言" class="headerlink" title="使用 JSX 书写标签语言"></a>使用 JSX 书写标签语言</h2><p>​	<strong>JSX</strong> 是 JavaScript 语法扩展，可以让你在 JavaScript 文件中书写类似 HTML 的标签。虽然还有其它方式可以编写组件，但大部分 React 开发者更喜欢 JSX 的简洁性，并且在大部分代码库中使用它。</p>
<h3 id="摘要-2"><a href="#摘要-2" class="headerlink" title="摘要"></a>摘要</h3><p> 你将会学习到:</p>
<ul>
<li><p>为什么 React 将标签和渲染逻辑耦合在一起?</p>
<ul>
<li>由于渲染逻辑和标签是紧密相关的，所以 React 将它们存放在一个组件中。</li>
</ul>
</li>
<li><p>JSX 与 HTML 有什么区别?</p>
<ul>
<li>JSX 类似 HTML，不过有一些区别。如果需要的话可以使用 转化器 将 HTML 转化为 JSX。</li>
</ul>
</li>
<li><p>如何通过 JSX 展示信息</p>
<ul>
<li>错误提示通常会指引你将标签修改为正确的格式。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="JSX-将标签引入-JavaScript"><a href="#JSX-将标签引入-JavaScript" class="headerlink" title="JSX: 将标签引入 JavaScript"></a>JSX: 将标签引入 JavaScript</h3><p>​	网页是构建在 HTML、CSS 和 JavaScript 之上的。多年以来，web 开发者都是将网页内容存放在 HTML 中，样式放在 CSS 中，而逻辑则放在 JavaScript 中 —— 通常是在不同的文件中！页面的内容通过标签语言描述并存放在 HTML 文件中，而逻辑则单独存放在 JavaScript 文件中。</p>
<p>​	但随着 Web 的交互性越来越强，逻辑越来越决定页面中的内容。JavaScript 负责 HTML 的内容！这也是为什么 <strong>在 React 中，渲染逻辑和标签共同存在于同一个地方——组件。</strong></p>
<p>​	将一个按钮的渲染逻辑和标签放在一起可以确保它们在每次编辑时都能保持互相同步。反之，彼此无关的细节是互相隔离的，例如按钮的标签和侧边栏的标签。这样我们在修改其中任意一个组件时会更安全。</p>
<p>​	每个 React 组件都是一个 JavaScript 函数，它会返回一些标签，React 会将这些标签渲染到浏览器上。React 组件使用一种被称为 JSX 的语法扩展来描述这些标签。JSX 看起来和 HTML 很像，但它的语法更加严格并且可以动态展示信息。了解这些区别最好的方式就是将一些 HTML 标签转化为 JSX 标签。</p>
<blockquote>
<p>注意:</p>
<p>​	JSX and React 是相互独立的 东西。但它们经常一起使用，但你 可以 单独使用它们中的任意一个，JSX 是一种语法扩展，而 React 则是一个 JavaScript 的库。</p>
</blockquote>
<h3 id="将-HTML-转化为-JSX"><a href="#将-HTML-转化为-JSX" class="headerlink" title="将 HTML 转化为 JSX"></a>将 HTML 转化为 JSX</h3><p>​	假设你现在有一些（完全有效的）HTML 标签：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;海蒂·拉玛的代办事项&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;img  </span><br><span class="line">   src=&quot;https://i.imgur.com/yXOvdOSs.jpg&quot;  </span><br><span class="line">  alt=&quot;Hedy Lamarr&quot; </span><br><span class="line">  class=&quot;photo&quot;</span><br><span class="line">&gt;</span><br><span class="line"></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;发明一种新式交通信号灯</span><br><span class="line">    &lt;li&gt;排练一个电影场景</span><br><span class="line">    &lt;li&gt;改进频谱技术</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

<p>​	而现在想要把这些标签迁移到组件中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export default function TodoList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    // ???</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	如果直接复制到组件中，并不能正常工作：</p>
<p>​	App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">export default function TodoList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    // 这不起作用！</span><br><span class="line">    &lt;h1&gt;海蒂·拉玛的代办事项&lt;/h1&gt;</span><br><span class="line">    &lt;img  </span><br><span class="line">       src=&quot;https://i.imgur.com/yXOvdOSs.jpg&quot;  </span><br><span class="line">      alt=&quot;Hedy Lamarr&quot; </span><br><span class="line">      class=&quot;photo&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li&gt;发明一种新式交通信号灯</span><br><span class="line">      &lt;li&gt;排练一个电影场景</span><br><span class="line">      &lt;li&gt;改进频谱技术</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	这是因为 JSX 语法更加严格并且相比 HTML 有更多的规则！</p>
<blockquote>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>大部分情况下，React 在屏幕上显示的错误提示就能帮你找到问题所在，如果在编写过程中遇到问题就参考一下提示吧。</p>
</blockquote>
<h3 id="JSX-规则"><a href="#JSX-规则" class="headerlink" title="JSX 规则"></a>JSX 规则</h3><p>​	只能返回一个根元素 </p>
<p>​	如果想要在一个组件中包含多个元素，<strong>需要用一个父标签把它们包裹起来</strong>。</p>
<p>​	例如，你可以使用一个 <code>div</code> 标签 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;h1&gt;海蒂·拉玛的代办事项&lt;/h1&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;img  </span><br><span class="line">     src=&quot;https://i.imgur.com/yXOvdOSs.jpg&quot;  </span><br><span class="line">    alt=&quot;Hedy Lamarr&quot; </span><br><span class="line">    class=&quot;photo&quot;</span><br><span class="line">  &gt;</span><br><span class="line"></span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>​	如果你不想在标签中增加一个额外的 div 标签，可以用 &lt;&gt; 和 &lt;&#x2F;&gt; 元素来代替：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;h1&gt;海蒂·拉玛的代办事项&lt;/h1&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;img  </span><br><span class="line">     src=&quot;https://i.imgur.com/yXOvdOSs.jpg&quot;  </span><br><span class="line">    alt=&quot;Hedy Lamarr&quot; </span><br><span class="line">    class=&quot;photo&quot;</span><br><span class="line">  &gt;</span><br><span class="line">  </span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/&gt;</span><br></pre></td></tr></table></figure>

<p>​	这个空标签被称作 <em><a class="link"   target="_blank" rel="noopener" href="https://react.docschina.org/reference/react/Fragment" >Fragment<i class="fas fa-external-link-alt"></i></a></em>. React Fragment 允许你将子元素分组，而不会在 HTML 结构中添加额外节点。</p>
<h4 id="为什么多个-JSX-标签需要被一个父元素包裹？"><a href="#为什么多个-JSX-标签需要被一个父元素包裹？" class="headerlink" title="为什么多个 JSX 标签需要被一个父元素包裹？"></a>为什么多个 JSX 标签需要被一个父元素包裹？</h4><p>​	JSX 虽然看起来很像 HTML，但在底层其实被转化为了 JavaScript 对象，你不能在一个函数中返回多个对象，除非用一个数组把他们包装起来。这就是为什么多个 JSX 标签必须要用一个父元素或者 Fragment 来包裹。</p>
<h3 id="标签必须闭合"><a href="#标签必须闭合" class="headerlink" title="标签必须闭合"></a>标签必须闭合</h3><p>​	JSX 要求标签必须正确闭合。像 <code>&lt;img&gt;</code> 这样的自闭合标签必须书写成 <code>&lt;img /&gt;</code>，而像 <code>&lt;li&gt;oranges</code> 这样只有开始标签的元素必须带有闭合标签，需要改为 <code>&lt;li&gt;oranges&lt;/li&gt;</code>。</p>
<p>海蒂·拉玛的照片和代办事项的标签经修改后变为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;&gt;</span><br><span class="line">  &lt;img  </span><br><span class="line">     src=&quot;https://i.imgur.com/yXOvdOSs.jpg&quot;  </span><br><span class="line">    alt=&quot;Hedy Lamarr&quot; </span><br><span class="line">    class=&quot;photo&quot;</span><br><span class="line">   &gt;</span><br><span class="line">   </span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;li&gt;发明一种新式交通信号灯&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;排练一个电影场景&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;改进频谱技术&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/&gt;</span><br></pre></td></tr></table></figure>



<h3 id="使用驼峰式命名法给-所有-大部分属性命名！"><a href="#使用驼峰式命名法给-所有-大部分属性命名！" class="headerlink" title="使用驼峰式命名法给 所有 大部分属性命名！"></a>使用驼峰式命名法给 所有 大部分属性命名！</h3><p>​	JSX 最终会被转化为 JavaScript，而 JSX 中的属性也会变成 JavaScript 对象中的键值对。在你自己的组件中，经常会遇到需要用变量的方式读取这些属性的时候。但 JavaScript 对变量的命名有限制。例如，变量名称不能包含 <code>-</code> 符号或者像 <code>class</code> 这样的保留字。</p>
<p>​	这就是为什么在 React 中，大部分 HTML 和 SVG 属性都用驼峰式命名法表示。例如，需要用 strokeWidth 代替 stroke-width。由于 class 是一个保留字，所以在 React 中需要用 className 来代替。这也是 DOM 属性中的命名:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;img  </span><br><span class="line">   src=&quot;https://i.imgur.com/yXOvdOSs.jpg&quot;  </span><br><span class="line">  alt=&quot;Hedy Lamarr&quot; </span><br><span class="line">  className=&quot;photo&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<p>​	你可以 在 React DOM 元素中找到所有对应的属性。如果你在编写属性时发生了错误，不用担心 —— React 会在 浏览器控制台 中打印一条可能的更正信息。</p>
<blockquote>
<p><strong>注意</strong></p>
<p>​	由于历史原因，aria-* 和 data-* 属性是以带 - 符号的 HTML 格式书写的。</p>
</blockquote>
<h3 id="高级提示：使用-JSX-转化器"><a href="#高级提示：使用-JSX-转化器" class="headerlink" title="高级提示：使用 JSX 转化器"></a>高级提示：使用 JSX 转化器</h3><p>​	将现有的 HMTL 中的所有属性转化 JSX 的格式是很繁琐的。我们建议使用 转化器 将 HTML 和 SVG 标签转化为 JSX。这种转化器在实践中非常有用。但我们依然有必要去了解这种转化过程中发生了什么，这样你就可以编写自己的 JSX 了。</p>
<p>这是最终的结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">export default function TodoList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">    </span><br><span class="line">      &lt;h1&gt;海蒂·拉玛的代办事项&lt;/h1&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;img  </span><br><span class="line">         src=&quot;https://i.imgur.com/yXOvdOSs.jpg&quot;  </span><br><span class="line">        alt=&quot;Hedy Lamarr&quot; </span><br><span class="line">        className=&quot;photo&quot; </span><br><span class="line">      &gt;</span><br><span class="line">      </span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;发明一种新式交通信号灯&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;排练一个电影场景&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;改进频谱技术&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/&gt; </span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/2842274a5da912b9010d4.png"
                       
                 ></p>
<h2 id="在-JSX-中通过大括号使用-JavaScript"><a href="#在-JSX-中通过大括号使用-JavaScript" class="headerlink" title="在 JSX 中通过大括号使用 JavaScript"></a>在 JSX 中通过大括号使用 JavaScript</h2><p>​	JSX 允许你在 JavaScript 中编写类似 HTML 的标签，从而使渲染的逻辑和内容可以写在一起。有时候，你可能想要在标签中添加一些 JavaScript 逻辑或者引用动态的属性。这种情况下，你可以在 JSX 的大括号内来编写 JavaScript。</p>
<h3 id="摘要-3"><a href="#摘要-3" class="headerlink" title="摘要"></a>摘要</h3><p> 你将会学习并了解:</p>
<ul>
<li><p>如何使用引号传递字符串</p>
<ul>
<li>JSX 引号内的值会作为字符串传递给属性。</li>
</ul>
</li>
<li><p>在 JSX 的大括号内引用 JavaScript 变量</p>
<ul>
<li>大括号让你可以将 JavaScript 的逻辑和变量带入到标签中。</li>
</ul>
</li>
<li><p>在 JSX 的大括号内调用 JavaScript 函数</p>
<ul>
<li>它们会在 JSX 标签中的内容区域或紧随属性的 <code>=</code> 后起作用。</li>
</ul>
</li>
<li><p>在 JSX 的大括号内使用 JavaScript 对象</p>
<ul>
<li><code>&#123;&#123;` 和 `&#125;&#125;</code> 并不是什么特殊的语法：它只是包在 JSX 大括号内的 JavaScript 对象。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="使用引号传递字符串"><a href="#使用引号传递字符串" class="headerlink" title="使用引号传递字符串"></a>使用引号传递字符串</h3><p> 当你想把一个字符串属性传递给 JSX 时，把它放到单引号或双引号中：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">export default function Avatar() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img </span><br><span class="line">      className=&quot;avatar&quot;</span><br><span class="line">       src=&quot;https://i.imgur.com/7vQD0fPs.jpg&quot; </span><br><span class="line">      alt=&quot;Gregorio Y. Zara&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	这里的 <code>&quot;https://i.imgur.com/7vQD0fPs.jpg&quot;</code> 和 <code>&quot;Gregorio Y. Zara&quot;</code> 就是被作为字符串传递的。</p>
<p>​	但是如果你想要动态地指定 <code>src</code> 或 <code>alt</code> 的值呢？你可以 <strong>用 <code>&#123;</code> 和 <code>&#125;</code> 替代 <code>&quot;</code> 和 <code>&quot;</code> 以使用 JavaScript 变量</strong> ：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export default function Avatar() &#123;</span><br><span class="line">  const avatar = &#x27;https://i.imgur.com/7vQD0fPs.jpg&#x27;;</span><br><span class="line">  const description = &#x27;Gregorio Y. Zara&#x27;;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img</span><br><span class="line">      className=&quot;avatar&quot;</span><br><span class="line">      src=&#123;avatar&#125;</span><br><span class="line">      alt=&#123;description&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	请注意 <code>className=&quot;avatar&quot;</code> 和 <code>src=&#123;avatar&#125;</code> 之间的区别，<code>className=&quot;avatar&quot;</code> 指定了一个就叫 <code>&quot;avatar&quot;</code> 的使图片在样式上变圆的 CSS 类名，而 <code>src=&#123;avatar&#125;</code> 这种写法会去读取 JavaScript 中 <code>avatar</code> 这个变量的值。这是因为大括号可以使你直接在标签中使用 JavaScript！</p>
<h3 id="使用大括号：一扇进入-JavaScript-世界的窗户"><a href="#使用大括号：一扇进入-JavaScript-世界的窗户" class="headerlink" title="使用大括号：一扇进入 JavaScript 世界的窗户"></a>使用大括号：一扇进入 JavaScript 世界的窗户</h3><p>​	JSX 是一种编写 JavaScript 的特殊方式。这为在大括号 <code>&#123; &#125;</code> 中使用 JavaScript 带来了可能。下面的示例中声明了科学家的名字，<code>name</code>，然后在 <code>&lt;h1&gt;</code> 后的大括号内嵌入它：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export default function TodoList() &#123;</span><br><span class="line">  const name = &#x27;Gregorio Y. Zara&#x27;;</span><br><span class="line">  return (</span><br><span class="line">    &lt;h1&gt;&#123;name&#125;&#x27;s To Do List&lt;/h1&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	试着将 <code>name</code> 的值从 <code>&#39;Gregorio Y. Zara&#39;</code> 更改成 <code>&#39;Hedy Lamarr&#39;</code>。看看这个 To Do List 的标题将如何变化？</p>
<p>大括号内的任何 JavaScript 表达式都能正常运行，包括像 <code>formatDate()</code> 这样的函数调用：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const today = new Date();</span><br><span class="line"></span><br><span class="line">function formatDate(date) &#123;</span><br><span class="line">  return new Intl.DateTimeFormat(</span><br><span class="line">    &#x27;zh-CN&#x27;,</span><br><span class="line">    &#123; weekday: &#x27;long&#x27; &#125;</span><br><span class="line">  ).format(date);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function TodoList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;h1&gt;To Do List for &#123;formatDate(today)&#125;&lt;/h1&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="可以在哪使用大括号"><a href="#可以在哪使用大括号" class="headerlink" title="可以在哪使用大括号"></a>可以在哪使用大括号</h3><p>​	</p>
<blockquote>
<p>在 JSX 中，只能在以下两种场景中使用大括号：</p>
<ul>
<li>用作 JSX 标签内的<strong>文本</strong>：<code>&lt;h1&gt;&#123;name&#125;&#39;s To Do List&lt;/h1&gt;</code> 是有效的，但是 <code>&lt;&#123;tag&#125;&gt;Gregorio Y. Zara&#39;s To Do List&lt;/&#123;tag&#125;&gt;</code> 无效。</li>
<li>用作紧跟在 <code>=</code> 符号后的 <strong>属性</strong>：<code>src=&#123;avatar&#125;</code> 会读取 <code>avatar</code> 变量，但是 <code>src=&quot;&#123;avatar&#125;&quot;</code> 只会传一个字符串 <code>&#123;avatar&#125;</code>。</li>
</ul>
</blockquote>
<h3 id="使用-“双大括号”：JSX-中的-CSS-和-对象"><a href="#使用-“双大括号”：JSX-中的-CSS-和-对象" class="headerlink" title="使用 “双大括号”：JSX 中的 CSS 和 对象"></a>使用 “双大括号”：JSX 中的 CSS 和 对象</h3><p>​	除了字符串、数字和其它 JavaScript 表达式，你甚至可以在 JSX 中传递对象。对象也用大括号表示，例如 <code>&#123; name: &quot;Hedy Lamarr&quot;, inventions: 5 &#125;</code>。因此，为了能在 JSX 中传递，你必须用另一对额外的大括号包裹对象：<code>person=&#123;&#123; name: "Hedy Lamarr", inventions: 5 &#125;&#125;</code>。</p>
<p>​	你可能在 JSX 的内联 CSS 样式中就已经见过这种写法了。React 不要求你使用内联样式（使用 CSS 类就能满足大部分情况）。但是当你需要内联样式的时候，你可以给 <code>style</code> 属性传递一个对象：</p>
<p>​	</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">export default function TodoList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;ul style=&#123;&#123;</span><br><span class="line">      backgroundColor: &#x27;black&#x27;,</span><br><span class="line">      color: &#x27;pink&#x27;</span><br><span class="line">    &#125;&#125;&gt;</span><br><span class="line">      &lt;li&gt;Improve the videophone&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;Prepare aeronautics lectures&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;Work on the alcohol-fuelled engine&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/bf1bf468f4223ff8af5aa.png"
                       
                 ></p>
<p>​	试着更改一下 <code>backgroundColor</code> 和 <code>color</code> 的值。</p>
<p>​	当你写成这样时，你可以很清楚地看到大括号里包着的对象：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul style=&#123;</span><br><span class="line">  &#123;</span><br><span class="line">    backgroundColor: &#x27;black&#x27;,</span><br><span class="line">    color: &#x27;pink&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;&gt;</span><br></pre></td></tr></table></figure>



<p>​	所以当你下次在 JSX 中看到 <code>&#123;&#123;` 和 `&#125;&#125;</code>时，就知道它只不过是包在大括号里的一个对象罢了！</p>
<blockquote>
<h3 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h3><p>​	内联 <code>style</code> 属性 使用驼峰命名法编写。例如，HTML <code>&lt;ul style=&quot;background-color: black&quot;&gt;</code> 在你的组件里应该写成 <code>&lt;ul style=&#123;&#123; backgroundColor: 'black' &#125;&#125;&gt;</code>。</p>
</blockquote>
<h3 id="JavaScript-对象和大括号的更多可能"><a href="#JavaScript-对象和大括号的更多可能" class="headerlink" title="JavaScript 对象和大括号的更多可能"></a>JavaScript 对象和大括号的更多可能</h3><p>​	你可以将多个表达式合并到一个对象中，在 JSX 的大括号内分别使用它们：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123;</span><br><span class="line">  name: &#x27;Gregorio Y. Zara&#x27;,</span><br><span class="line">  theme: &#123;</span><br><span class="line">    backgroundColor: &#x27;black&#x27;,</span><br><span class="line">    color: &#x27;pink&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default function TodoList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div style=&#123;person.theme&#125;&gt;</span><br><span class="line">      &lt;h1&gt;&#123;person.name&#125;&#x27;s Todos&lt;/h1&gt;</span><br><span class="line">      &lt;img </span><br><span class="line">        className=&quot;avatar&quot;</span><br><span class="line">         src=&quot;https://i.imgur.com/7vQD0fPs.jpg&quot; </span><br><span class="line">        alt=&quot;Gregorio Y. Zara&quot;</span><br><span class="line">      &gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;Improve the videophone&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;Prepare aeronautics lectures&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;Work on the alcohol-fuelled engine&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/b4cc9a2dfc8b5609f21f8.png"
                       
                 ></p>
<p>​	在这个示例中，<code>person</code> JavaScript 对象包含 <code>name</code> 中存储的字符串和 <code>theme</code> 对象：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const person = &#123;</span><br><span class="line">  name: &#x27;Gregorio Y. Zara&#x27;,</span><br><span class="line">  theme: &#123;</span><br><span class="line">    backgroundColor: &#x27;black&#x27;,</span><br><span class="line">    color: &#x27;pink&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>​	该组件可以这样使用来自 <code>person</code> 的值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&#123;person.theme&#125;&gt;</span><br><span class="line">  &lt;h1&gt;&#123;person.name&#125;&#x27;s Todos&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<p>​	JSX 是一种模板语言的最小实现，因为它允许你通过 JavaScript 来组织数据和逻辑。</p>
<h2 id="将-Props-传递给组件"><a href="#将-Props-传递给组件" class="headerlink" title="将 Props 传递给组件"></a>将 Props 传递给组件</h2><p>​	React 组件使用 <em>props</em> 来互相通信。每个父组件都可以提供 props 给它的子组件，从而将一些信息传递给它。Props 可能会让你想起 HTML 属性，但你可以通过它们传递任何 JavaScript 值，包括对象、数组和函数。</p>
<h3 id="摘要-4"><a href="#摘要-4" class="headerlink" title="摘要"></a>摘要</h3><p> 你将会学习并了解:</p>
<ul>
<li><p>如何向组件传递 props</p>
<ul>
<li>要传递 props，请将它们添加到 JSX，就像使用 HTML 属性一样。</li>
</ul>
</li>
<li><p>如何从组件读取 props</p>
<ul>
<li>要读取 props，请使用 <code>function Avatar(&#123; person, size &#125;)</code> 解构语法。</li>
</ul>
</li>
<li><p>如何为 props 指定默认值</p>
<ul>
<li>你可以指定一个默认值，如 <code>size = 100</code>，用于缺少值或值为 <code>undefined</code> 的 props 。</li>
</ul>
</li>
<li><p>如何给组件传递 JSX</p>
<ul>
<li>你可以使用 <code>&lt;Avatar &#123;...props&#125; /&gt;</code> JSX 展开语法转发所有 props，但不要过度使用它！</li>
<li>像 <code>&lt;Card&gt;&lt;Avatar /&gt;&lt;/Card&gt;</code> 这样的嵌套 JSX，将被视为 <code>Card</code> 组件的 <code>children</code> prop。</li>
</ul>
</li>
<li><p>Props 如何随时间变化</p>
<ul>
<li>Props 是只读的时间快照：每次渲染都会收到新版本的 props。</li>
<li>你不能改变 props。当你需要交互性时，你可以设置 state。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="熟悉的-props"><a href="#熟悉的-props" class="headerlink" title="熟悉的 props"></a>熟悉的 props</h3><p>​	Props 是你传递给 JSX 标签的信息。例如，<code>className</code>、<code>src</code>、<code>alt</code>、<code>width</code> 和 <code>height</code> 便是一些可以传递给 <code>&lt;img&gt;</code> 的 props：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function Avatar() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img </span><br><span class="line">      className=&quot;avatar&quot;</span><br><span class="line">       src=&quot;https://i.imgur.com/1bX5QH6.jpg&quot; </span><br><span class="line">      alt=&quot;Lin Lanying&quot;</span><br><span class="line">      width=&#123;100&#125;</span><br><span class="line">      height=&#123;100&#125;</span><br><span class="line">    &gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Avatar /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	你可以传递给 img 标签的 props 是预定义的（ReactDOM 符合 HTML 标准）。但是你可以将任何 props 传递给 你自己的 组件，例如 Avatar 标签 ，以便自定义它们。 就像这样！</p>
<h3 id="向组件传递-props"><a href="#向组件传递-props" class="headerlink" title="向组件传递 props"></a>向组件传递 props</h3><p>​	在这段代码中， <code>Profile</code> 组件没有向它的子组件 <code>Avatar</code> 传递任何 props ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export default function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Avatar /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	你可以分两步给 <code>Avatar</code> 一些 props。</p>
<h4 id="步骤-1-将-props-传递给子组件"><a href="#步骤-1-将-props-传递给子组件" class="headerlink" title="步骤 1: 将 props 传递给子组件"></a>步骤 1: 将 props 传递给子组件</h4><p>​	首先，将一些 props 传递给 <code>Avatar</code>。例如，让我们传递两个 props：<code>person</code>（一个对象）和 <code>size</code>（一个数字）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export default function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Avatar</span><br><span class="line">      person=&#123;&#123; name: &#x27;Lin Lanying&#x27;, imageId: &#x27;1bX5QH6&#x27; &#125;&#125;</span><br><span class="line">      size=&#123;100&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<h3 id="注意-2"><a href="#注意-2" class="headerlink" title="注意"></a>注意</h3><p>​	如果 person&#x3D; 后面的双花括号让你感到困惑，请记住，在 JSX 花括号中，它们只是一个对象。</p>
</blockquote>
<p>​	现在，你可以在 <code>Avatar</code> 组件中读取这些 props 了。</p>
<h4 id="步骤-2-在子组件中读取-props"><a href="#步骤-2-在子组件中读取-props" class="headerlink" title="步骤 2: 在子组件中读取 props"></a>步骤 2: 在子组件中读取 props</h4><p>​	你可以通过在 <code>function Avatar</code> 之后直接列出它们的名字 <code>person, size</code> 来读取这些 props。这些 props 在 <code>(&#123;</code> 和 <code>&#125;)</code> 之间，并由逗号分隔。这样，你可以在 <code>Avatar</code> 的代码中使用它们，就像使用变量一样。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function Avatar(&#123; person, size &#125;) &#123;</span><br><span class="line">  // 在这里 person 和 size 是可访问的</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	向使用 <code>person</code> 和 <code>size</code> props 渲染的 <code>Avatar</code> 添加一些逻辑，你就完成了。</p>
<p>​	现在你可以配置 <code>Avatar</code> ，通过不同的 props，使它能以多种不同的方式进行渲染。尝试变换值吧！</p>
<p>utils.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export function getImageUrl(person, size = &#x27;s&#x27;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &#x27;https://i.imgur.com/&#x27; +</span><br><span class="line">    person.imageId +</span><br><span class="line">    size +</span><br><span class="line">    &#x27;.jpg&#x27;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">import &#123; getImageUrl &#125; from &#x27;./utils.js&#x27;;</span><br><span class="line"></span><br><span class="line">function Avatar(&#123; person, size &#125;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img</span><br><span class="line">      className=&quot;avatar&quot;</span><br><span class="line">      src=&#123;getImageUrl(person)&#125;</span><br><span class="line">      alt=&#123;person.name&#125;</span><br><span class="line">      width=&#123;size&#125;</span><br><span class="line">      height=&#123;size&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Avatar</span><br><span class="line">        size=&#123;100&#125;</span><br><span class="line">        person=&#123;&#123; </span><br><span class="line">          name: &#x27;Katsuko Saruhashi&#x27;, </span><br><span class="line">          imageId: &#x27;YfeOqp2&#x27;</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;Avatar</span><br><span class="line">        size=&#123;80&#125;</span><br><span class="line">        person=&#123;&#123;</span><br><span class="line">          name: &#x27;Aklilu Lemma&#x27;, </span><br><span class="line">          imageId: &#x27;OKS67lh&#x27;</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;Avatar</span><br><span class="line">        size=&#123;50&#125;</span><br><span class="line">        person=&#123;&#123; </span><br><span class="line">          name: &#x27;Lin Lanying&#x27;,</span><br><span class="line">          imageId: &#x27;1bX5QH6&#x27;</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/b0daeb82705447594050b.png"
                       
                 ></p>
<p>​	Props 使你独立思考父组件和子组件。 例如，你可以改变 <code>Profile</code> 中的 <code>person</code> 或 <code>size</code> props，而无需考虑 <code>Avatar</code> 如何使用它们。 同样，你可以改变 <code>Avatar</code> 使用这些 props 的方式，不必考虑 <code>Profile</code>。</p>
<p>​	你可以将 props 想象成可以调整的“旋钮”。它们的作用与函数的参数相同 —— 事实上，props <strong>正是</strong> 组件的唯一参数！ React 组件函数接受一个参数，一个 <code>props</code> 对象：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function Avatar(props) &#123;</span><br><span class="line">  let person = props.person;</span><br><span class="line">  let size = props.size;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	通常你不需要整个 <code>props</code> 对象，所以可以将它解构为单独的 props。</p>
<blockquote>
<h3 id="注意-3"><a href="#注意-3" class="headerlink" title="注意"></a>注意</h3><p>​	在声明 props 时， <strong>不要忘记 <code>(</code> 和 <code>)</code> 之间的一对花括号 <code>&#123;</code> 和 <code>&#125;</code></strong>  ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function Avatar(&#123; person, size &#125;) &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	这种语法被称为 “解构”，等价于于从函数参数中读取属性：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function Avatar(props) &#123;</span><br><span class="line">  let person = props.person;</span><br><span class="line">  let size = props.size;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="给-prop-指定一个默认值"><a href="#给-prop-指定一个默认值" class="headerlink" title="给 prop 指定一个默认值"></a>给 prop 指定一个默认值</h3><p>​	如果你想在没有指定值的情况下给 prop 一个默认值，你可以通过在参数后面写 <code>=</code> 和默认值来进行解构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function Avatar(&#123; person, size = 100 &#125;) &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	现在， 如果 <code>&lt;Avatar person=&#123;...&#125; /&gt;</code> 渲染时没有 <code>size</code> prop，  <code>size</code> 将被赋值为 <code>100</code>。</p>
<p>​	默认值仅在缺少 <code>size</code> prop 或 <code>size=&#123;undefined&#125;</code> 时生效。 但是如果你传递了 <code>size=&#123;null&#125;</code> 或 <code>size=&#123;0&#125;</code>，默认值将 <strong>不</strong> 被使用。</p>
<h3 id="使用-JSX-展开语法传递-props"><a href="#使用-JSX-展开语法传递-props" class="headerlink" title="使用 JSX 展开语法传递 props"></a>使用 JSX 展开语法传递 props</h3><p>​	有时候，传递 props 会变得非常重复：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function Profile(&#123; person, size, isSepia, thickBorder &#125;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">      &lt;Avatar</span><br><span class="line">        person=&#123;person&#125;</span><br><span class="line">        size=&#123;size&#125;</span><br><span class="line">        isSepia=&#123;isSepia&#125;</span><br><span class="line">        thickBorder=&#123;thickBorder&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	重复代码没有错（它可以更清晰）。但有时你可能会重视简洁。一些组件将它们所有的 props 转发给子组件，正如 <code>Profile</code> 转给 <code>Avatar</code> 那样。因为这些组件不直接使用他们本身的任何 props，所以使用更简洁的“展开”语法是有意义的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function Profile(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">      &lt;Avatar &#123;...props&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	这会将 <code>Profile</code> 的所有 props 转发到 <code>Avatar</code>，而不列出每个名字。</p>
<p>​	<strong>请克制地使用展开语法。</strong> 如果你在所有其他组件中都使用它，那就有问题了。 通常，它表示你应该拆分组件，并将子组件作为 JSX 传递。 接下来会详细介绍！</p>
<h3 id="将-JSX-作为子组件传递"><a href="#将-JSX-作为子组件传递" class="headerlink" title="将 JSX 作为子组件传递"></a>将 JSX 作为子组件传递</h3><p>​	嵌套浏览器内置标签是很常见的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;img /&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>​	有时你会希望以相同的方式嵌套自己的组件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Card&gt;</span><br><span class="line">  &lt;Avatar /&gt;</span><br><span class="line">&lt;/Card&gt;</span><br></pre></td></tr></table></figure>

<p>​	当您将内容嵌套在 JSX 标签中时，父组件将在名为 <code>children</code> 的 prop 中接收到该内容。例如，下面的 <code>Card</code> 组件将接收一个被设为 <code>&lt;Avatar /&gt;</code> 的 <code>children</code> prop 并将其包裹在 div 中渲染：</p>
<p>utils.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export function getImageUrl(person, size = &#x27;s&#x27;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &#x27;https://i.imgur.com/&#x27; +</span><br><span class="line">    person.imageId +</span><br><span class="line">    size +</span><br><span class="line">    &#x27;.jpg&#x27;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Avatar.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123; getImageUrl &#125; from &#x27;./utils.js&#x27;;</span><br><span class="line"></span><br><span class="line">export default function Avatar(&#123; person, size &#125;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;img</span><br><span class="line">      className=&quot;avatar&quot;</span><br><span class="line">      src=&#123;getImageUrl(person)&#125;</span><br><span class="line">      alt=&#123;person.name&#125;</span><br><span class="line">      width=&#123;size&#125;</span><br><span class="line">      height=&#123;size&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Avatar from &#x27;./Avatar.js&#x27;;</span><br><span class="line"></span><br><span class="line">function Card(&#123; children &#125;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function Profile() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Card&gt;</span><br><span class="line">      &lt;Avatar</span><br><span class="line">        size=&#123;100&#125;</span><br><span class="line">        person=&#123;&#123; </span><br><span class="line">          name: &#x27;Katsuko Saruhashi&#x27;,</span><br><span class="line">          imageId: &#x27;YfeOqp2&#x27;</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/Card&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/cfa1396d842002211c99e.png"
                       
                 ></p>
<p>​	尝试用一些文本替换 <code>&lt;Card&gt;</code> 中的 <code>&lt;Avatar&gt;</code>，看看 <code>Card</code> 组件如何包裹任意嵌套内容。它不必“知道”其中渲染的内容。你会在很多地方看到这种灵活的模式。</p>
<p>​	可以将带有 <code>children</code> prop 的组件看作有一个“洞”，可以由其父组件使用任意 JSX 来“填充”。你会经常使用 <code>children</code> prop 来进行视觉包装：面板、网格等等。</p>
<h3 id="Props-如何随时间变化"><a href="#Props-如何随时间变化" class="headerlink" title="Props 如何随时间变化"></a>Props 如何随时间变化</h3><p>​	下面的 <code>Clock</code> 组件从其父组件接收两个 props：<code>color</code> 和 <code>time</code>。（父组件的代码被省略，因为它使用 <a class="link"   target="_blank" rel="noopener" href="https://react.docschina.org/learn/state-a-components-memory" >state<i class="fas fa-external-link-alt"></i></a>，我们暂时不会深入研究。）</p>
<p>尝试在下面的选择框中更改颜色：</p>
<p>Clock.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export default function Clock(&#123; color, time &#125;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;h1 style=&#123;&#123; color: color &#125;&#125;&gt;</span><br><span class="line">      &#123;time&#125;</span><br><span class="line">    &lt;/h1&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	这个例子说明，<strong>一个组件可能会随着时间的推移收到不同的 props。</strong> Props 并不总是静态的！在这里，<code>time</code> prop 每秒都在变化。当你选择另一种颜色时，<code>color</code> prop 也改变了。Props 反映了组件在任何时间点的数据，并不仅仅是在开始时。</p>
<p>​	然而，props 是 不可变的（一个计算机科学术语，意思是“不可改变”）。当一个组件需要改变它的 props（例如，响应用户交互或新数据）时，它不得不“请求”它的父组件传递 不同的 props —— 一个新对象！它的旧 props 将被丢弃，最终 JavaScript 引擎将回收它们占用的内存。</p>
<p>​	不要尝试“更改 props”。 当你需要响应用户输入（例如更改所选颜色）时，你可以“设置 state”，你可以在 State: 一个组件的内存 中继续了解。</p>
<h2 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h2><p>​	通常你的组件会需要根据不同的情况显示不同的内容。在 React 中，你可以通过使用 JavaScript 的 if 语句、&amp;&amp; 和 ? : 运算符来选择性地渲染 JSX。</p>
<h3 id="摘要-5"><a href="#摘要-5" class="headerlink" title="摘要"></a>摘要</h3><p> 你将会学习并了解:</p>
<ul>
<li><p>如何根据不同条件返回不同的 JSX</p>
<ul>
<li>在 React，你可以使用 JavaScript 来控制分支逻辑。</li>
<li>你可以使用 <code>if</code> 语句来选择性地返回 JSX 表达式。</li>
<li>你可以选择性地将一些 JSX 赋值给变量，然后用大括号将其嵌入到其他 JSX 中。</li>
</ul>
</li>
<li><p>如何根据不同条件包含或者去掉部分 JSX</p>
<ul>
<li>在 JSX 中，<code>&#123;cond ? &lt;A /&gt; : &lt;B /&gt;&#125;</code> 表示 <em>“当 <code>cond</code> 为真值时, 渲染 <code>&lt;A /&gt;</code>，否则 <code>&lt;B /&gt;</code>”</em>。</li>
<li>在 JSX 中，<code>&#123;cond &amp;&amp; &lt;A /&gt;&#125;</code> 表示 <em>“当 <code>cond</code> 为真值时, 渲染 <code>&lt;A /&gt;</code>，否则不进行渲染”</em>。</li>
</ul>
</li>
<li><p>一些你会在 React 代码库里遇到的常用的条件语法快捷表达式</p>
<ul>
<li>快捷的表达式很常见，但如果你更倾向于使用 <code>if</code>，你也可以不使用它们。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="条件返回-JSX"><a href="#条件返回-JSX" class="headerlink" title="条件返回 JSX"></a>条件返回 JSX</h3><p>假设有一个 <code>PackingList</code> 组件，里面渲染多个 <code>Item</code> 组件，每个物品可标记为打包与否：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">function Item(&#123; name, isPacked &#125;) &#123;</span><br><span class="line">  return &lt;li className=&quot;item&quot;&gt;&#123;name&#125;&lt;/li&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function PackingList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;Sally Ride 的行李清单&lt;/h1&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;宇航服&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;带金箔的头盔&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;false&#125; </span><br><span class="line">          name=&quot;Tam 的照片&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/316b3a67efa0d6603fdde.png"
                       
                 ></p>
<p>​	需要注意的是，有些 Item 组件的 isPacked 属性是被设为 true 而不是 false。你可以在那些满足 isPacked&#x3D;{true} 条件的物品旁加上一个勾选符号（✔）。</p>
<p>​	你可以用 if&#x2F;else 语句 去判断：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (isPacked) &#123;</span><br><span class="line">  return &lt;li className=&quot;item&quot;&gt;&#123;name&#125; ✔&lt;/li&gt;;</span><br><span class="line">&#125;</span><br><span class="line">return &lt;li className=&quot;item&quot;&gt;&#123;name&#125;&lt;/li&gt;;</span><br></pre></td></tr></table></figure>

<p>​	如果 isPacked 属性是 true，这段代码会返回一个不一样的 JSX。通过这样的改动，一些物品的名字后面会出现一个勾选符号：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function Item(&#123; name, isPacked &#125;) &#123;</span><br><span class="line">  if (isPacked) &#123;</span><br><span class="line">    return &lt;li className=&quot;item&quot;&gt;&#123;name&#125; ✔&lt;/li&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">  return &lt;li className=&quot;item&quot;&gt;&#123;name&#125;&lt;/li&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function PackingList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;Sally Ride 的行李清单&lt;/h1&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;宇航服&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;带金箔的头盔&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;false&#125; </span><br><span class="line">          name=&quot;Tam 的照片&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/b6ca55fbd4a54f2120a5c.png"
                       
                 ></p>
<p>​	动手尝试一下，看看各种情况会出现什么不同的结果！</p>
<p>​	留意这里你是怎么使用 JavaScript 的 <code>if</code> 和 <code>return</code> 语句来写分支逻辑。在 React 中，是由 JavaScript 来处理控制流的（比如条件）。</p>
<h3 id="选择性地返回-null"><a href="#选择性地返回-null" class="headerlink" title="选择性地返回 null"></a>选择性地返回 null</h3><p>​	在一些情况下，你不想有任何东西进行渲染。比如，你不想显示已经打包好的物品。但一个组件必须返回一些东西。这种情况下，你可以直接返回 null。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (isPacked) &#123;</span><br><span class="line">  return null;</span><br><span class="line">&#125;</span><br><span class="line">return &lt;li className=&quot;item&quot;&gt;&#123;name&#125;&lt;/li&gt;;</span><br></pre></td></tr></table></figure>

<p>​	如果组件的 <code>isPacked</code> 属性为 <code>true</code>，那么它将只返回 <code>null</code>。否则，它将返回相应的 JSX 用来渲染。</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function Item(&#123; name, isPacked &#125;) &#123;</span><br><span class="line">  if (isPacked) &#123;</span><br><span class="line">    return null;</span><br><span class="line">  &#125;</span><br><span class="line">  return &lt;li className=&quot;item&quot;&gt;&#123;name&#125;&lt;/li&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function PackingList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;Sally Ride 的行李清单&lt;/h1&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;宇航服&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;带金箔的头盔&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;false&#125; </span><br><span class="line">          name=&quot;Tam 的照片&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/70d47107dcbe9317549d2.png"
                       
                 ></p>
<p>​	实际上，在组件里返回 <code>null</code> 并不常见，因为这样会让想使用它的开发者感觉奇怪。通常情况下，你可以在父组件里选择是否要渲染该组件。让我们接着往下看吧！</p>
<h3 id="选择性地包含-JSX"><a href="#选择性地包含-JSX" class="headerlink" title="选择性地包含 JSX"></a>选择性地包含 JSX</h3><p>​	在之前的例子里，你在组件内部控制哪些 JSX 树（如果有的话！）会返回。你可能已经发现了在渲染输出里会有一些重复的内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li className=&quot;item&quot;&gt;&#123;name&#125; ✔&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<p>​	和下面的写法很像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li className=&quot;item&quot;&gt;&#123;name&#125;&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<p>​	两个条件分支都会返回 <code>&lt;li className=&quot;item&quot;&gt;...&lt;/li&gt;</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (isPacked) &#123;</span><br><span class="line"></span><br><span class="line">  return &lt;li className=&quot;item&quot;&gt;&#123;name&#125; ✔&lt;/li&gt;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return &lt;li className=&quot;item&quot;&gt;&#123;name&#125;&lt;/li&gt;;</span><br></pre></td></tr></table></figure>

<p>​	虽然这些重复的内容没什么害处，但这样可能会导致你的代码更难维护。比如你想更改 className？你就需要修改两个地方！针对这种情况，你可以通过选择性地包含一小段 JSX 来让你的代码更加 DRY。</p>
<h3 id="三目运算符（-）"><a href="#三目运算符（-）" class="headerlink" title="三目运算符（? :）"></a>三目运算符（<code>? :</code>）</h3><p>​	JavaScript 有一种紧凑型语法来实现条件判断表达式——条件运算符 又称“三目运算符”。</p>
<p>除了这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (isPacked) &#123;</span><br><span class="line"></span><br><span class="line">  return &lt;li className=&quot;item&quot;&gt;&#123;name&#125; ✔&lt;/li&gt;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return &lt;li className=&quot;item&quot;&gt;&#123;name&#125;&lt;/li&gt;;</span><br></pre></td></tr></table></figure>

<p>你还可以这样实现：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">return (</span><br><span class="line"></span><br><span class="line">  &lt;li className=&quot;item&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &#123;isPacked ? name + &#x27; ✔&#x27; : name&#125;</span><br><span class="line"></span><br><span class="line">  &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>​	你可以认为，“如果 isPacked 为 true 时，则（?）渲染 name + ‘ ✔’，否则（:）渲染 name。”</p>
<h4 id="两个例子完全一样吗？"><a href="#两个例子完全一样吗？" class="headerlink" title="两个例子完全一样吗？"></a>两个例子完全一样吗？</h4><p>​	</p>
<p>​	如果你之前是习惯面向对象开发的，你可能会认为上面的两个例子略有不同，因为其中一个可能会创建两个不同的 <li> “实例”。但 JSX 元素不是“实例”，因为它们没有内部状态也不是真实的 DOM 节点。它们只是一些简单的描述，就像图纸一样。所以上面这两个例子事实上是完全相同的。在 状态的保持和重置 里会深入探讨其原因。</p>
<p>​	现在，假如你想将对应物品的文本放到另一个 HTML 标签里，比如用 <code>&lt;del&gt;</code> 来显示删除线。你可以添加更多的换行和括号，以便在各种情况下更好地去嵌套 JSX：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">function Item(&#123; name, isPacked &#125;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;li className=&quot;item&quot;&gt;</span><br><span class="line">      &#123;isPacked ? (</span><br><span class="line">        &lt;del&gt;</span><br><span class="line">          &#123;name + &#x27; ✔&#x27;&#125;</span><br><span class="line">        &lt;/del&gt;</span><br><span class="line">      ) : (</span><br><span class="line">        name</span><br><span class="line">      )&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function PackingList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;Sally Ride 的行李清单&lt;/h1&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;宇航服&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;带金箔的头盔&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;false&#125; </span><br><span class="line">          name=&quot;Tam 的照片&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/a8227d3f7bcf175320b64.png"
                       
                 ></p>
<p>​	对于简单的条件判断，这样的风格可以很好地实现，但需要适量使用。如果你的组件里有很多的嵌套式条件表达式，则需要考虑通过提取为子组件来简化这些嵌套表达式。在 React 里，标签也是你代码中的一部分，所以你可以使用变量和函数来整理一些复杂的表达式。</p>
<h3 id="与运算符（-）"><a href="#与运算符（-）" class="headerlink" title="与运算符（&amp;&amp;）"></a>与运算符（<code>&amp;&amp;</code>）</h3><p>​	你会遇到的另一个常见的快捷表达式是 JavaScript 逻辑与（&amp;&amp;）运算符。在 React 组件里，通常用在当条件成立时，你想渲染一些 JSX，或者不做任何渲染。使用 &amp;&amp;，你也可以实现仅当 isPacked 为 true 时，渲染勾选符号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">return (</span><br><span class="line"></span><br><span class="line">  &lt;li className=&quot;item&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &#123;name&#125; &#123;isPacked &amp;&amp; &#x27;✔&#x27;&#125;</span><br><span class="line"></span><br><span class="line">  &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>​	你可以认为，“当 isPacked 为真值时，则（&amp;&amp;）渲染勾选符号，否则，不渲染。”</p>
<p>下面为具体的例子：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">function Item(&#123; name, isPacked &#125;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;li className=&quot;item&quot;&gt;</span><br><span class="line">      &#123;name&#125; &#123;isPacked &amp;&amp; &#x27;✔&#x27;&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function PackingList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;Sally Ride 的行李清单&lt;/h1&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;宇航服&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;带金箔的头盔&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;false&#125; </span><br><span class="line">          name=&quot;Tam 的照片&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/68f5d336007b66e63c58c.png"
                       
                 ></p>
<p>​	当 JavaScript &amp;&amp; 表达式 的左侧（我们的条件）为 true 时，它则返回其右侧的值（在我们的例子里是勾选符号）。但条件的结果是 false，则整个表达式会变成 false。在 JSX 里，React 会将 false 视为一个“空值”，就像 null 或者 undefined，这样 React 就不会在这里进行任何渲染。</p>
<h4 id="陷阱"><a href="#陷阱" class="headerlink" title="陷阱"></a>陷阱</h4><p><strong>切勿将数字放在 &amp;&amp; 左侧.</strong></p>
<p>​	JavaScript 会自动将左侧的值转换成布尔类型以判断条件成立与否。然而，如果左侧是 0，整个表达式将变成左侧的值（0），React 此时则会渲染 0 而不是不进行渲染。</p>
<p>​	例如，一个常见的错误是 messageCount &amp;&amp; <p>New messages</p>。其原本是想当 messageCount 为 0 的时候不进行渲染，但实际上却渲染了 0。</p>
<p>​	为了更正，可以将左侧的值改成布尔类型：messageCount &gt; 0 &amp;&amp; <p>New messages</p>。</p>
<h3 id="选择性地将-JSX-赋值给变量"><a href="#选择性地将-JSX-赋值给变量" class="headerlink" title="选择性地将 JSX 赋值给变量"></a>选择性地将 JSX 赋值给变量</h3><p>​	当这些快捷方式妨碍写普通代码时，可以考虑使用 if 语句和变量。因为你可以使用 let 进行重复赋值，所以一开始你可以将你想展示的（这里指的是物品的名字）作为默认值赋予给该变量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let itemContent = name;</span><br></pre></td></tr></table></figure>

<p>​	结合 <code>if</code> 语句，当 <code>isPacked</code> 为 <code>true</code> 时，将 JSX 表达式的值重新赋值给 <code>itemContent</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (isPacked) &#123;</span><br><span class="line"></span><br><span class="line">  itemContent = name + &quot; ✔&quot;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	在 JSX 中通过大括号使用 JavaScript。将变量用大括号嵌入在返回的 JSX 树中，来嵌套计算好的表达式与 JSX：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;li className=&quot;item&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &#123;itemContent&#125;</span><br><span class="line"></span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<p>​	这种方式是最冗长的，但也是最灵活的。下面是相关的例子：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">function Item(&#123; name, isPacked &#125;) &#123;</span><br><span class="line">  let itemContent = name;</span><br><span class="line">  if (isPacked) &#123;</span><br><span class="line">    itemContent = name + &quot; ✔&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  return (</span><br><span class="line">    &lt;li className=&quot;item&quot;&gt;</span><br><span class="line">      &#123;itemContent&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function PackingList() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;Sally Ride 的行李清单&lt;/h1&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;宇航服&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;true&#125; </span><br><span class="line">          name=&quot;带金箔的头盔&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Item </span><br><span class="line">          isPacked=&#123;false&#125; </span><br><span class="line">          name=&quot;Tam 的照片&quot; </span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/62903869ad4619f5bb5dd.png"
                       
                 ></p>
<p>​	跟之前的一样，这个方式不仅仅适用于文本，任意的 JSX 均适用：</p>
<p>​	如果对 JavaScript 不熟悉，这些不同的风格一开始可能会让你感到不知所措。但是，学习这些将有助于你理解和写任何的 JavaScript 代码，而不仅仅是 React 组件。一开始可以选择一个你喜欢的来用，然后当你忘记其他的怎么用时，可以再翻阅这份参考资料。</p>
<h2 id="渲染列表"><a href="#渲染列表" class="headerlink" title="渲染列表"></a>渲染列表</h2><p>​	你可能经常需要通过 JavaScript 的数组方法 来操作数组中的数据，从而将一个数据集渲染成多个相似的组件。在这篇文章中，你将学会如何在 React 中使用 filter() 筛选需要渲染的组件和使用 map() 把数组转换成组件数组。</p>
<h3 id="摘要-6"><a href="#摘要-6" class="headerlink" title="摘要"></a>摘要</h3><p> 你将会学习并了解:</p>
<ul>
<li><p>如何从组件中抽离出数据，并把它们放入像数组、对象这样的数据结构中。</p>
</li>
<li><p>如何通过 JavaScript 的 <code>map()</code> 方法从数组中生成组件</p>
</li>
<li><p>如何通过 JavaScript 的 <code>filter()</code> 筛选需要渲染的组件</p>
</li>
<li><p>为何以及如何给集合中的每个组件设置一个 key 值：它使 React 能追踪这些组件，即便后者的位置或数据发生了变化。</p>
</li>
</ul>
<hr>
<h3 id="从数组中渲染数据"><a href="#从数组中渲染数据" class="headerlink" title="从数组中渲染数据"></a>从数组中渲染数据</h3><p>​	这里我们有一个列表。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;凯瑟琳·约翰逊: 数学家&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;马里奥·莫利纳: 化学家&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;穆罕默德·阿卜杜勒·萨拉姆: 物理学家&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;珀西·莱温·朱利亚: 化学家&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;苏布拉马尼扬·钱德拉塞卡: 天体物理学家&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

<p>​	可以看到，这些列表项之间唯一的区别就是其中的内容&#x2F;数据。未来你可能会碰到很多类似的情况，在那些场景中，你想基于不同的数据渲染出相似的组件，比如评论列表或者个人资料的图库。在这样的场景下，可以把要用到的数据存入 JavaScript 对象或数组，然后用 map() 或 filter() 这样的方法来渲染出一个组件列表。</p>
<p>​	这里给出一个由数组生成一系列列表项的简单示例：</p>
<ol>
<li>首先，把数据 <strong>存储</strong> 到数组中：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const people = [</span><br><span class="line">  &#x27;凯瑟琳·约翰逊: 数学家&#x27;,</span><br><span class="line">  &#x27;马里奥·莫利纳: 化学家&#x27;,</span><br><span class="line">  &#x27;穆罕默德·阿卜杜勒·萨拉姆: 物理学家&#x27;,</span><br><span class="line">  &#x27;珀西·莱温·朱利亚: 化学家&#x27;,</span><br><span class="line">  &#x27;苏布拉马尼扬·钱德拉塞卡: 天体物理学家&#x27;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>遍历</strong> <code>people</code> 这个数组中的每一项，并获得一个新的 JSX 节点数组 <code>listItems</code>：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const listItems = people.map(person =&gt; &lt;li&gt;&#123;person&#125;&lt;/li&gt;);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>把 <code>listItems</code> 用 <code>&lt;ul&gt;</code> 包裹起来，然后 <strong>返回</strong> 它：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return &lt;ul&gt;&#123;listItems&#125;&lt;/ul&gt;;</span><br></pre></td></tr></table></figure>

<p>来看看运行的结果：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const people = [</span><br><span class="line">  &#x27;凯瑟琳·约翰逊: 数学家&#x27;,</span><br><span class="line">  &#x27;马里奥·莫利纳: 化学家&#x27;,</span><br><span class="line">  &#x27;穆罕默德·阿卜杜勒·萨拉姆: 物理学家&#x27;,</span><br><span class="line">  &#x27;珀西·莱温·朱利亚: 化学家&#x27;,</span><br><span class="line">  &#x27;苏布拉马尼扬·钱德拉塞卡: 天体物理学家&#x27;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">export default function List() &#123;</span><br><span class="line">  const listItems = people.map(person =&gt;</span><br><span class="line">    &lt;li&gt;&#123;person&#125;&lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">  return &lt;ul&gt;&#123;listItems&#125;&lt;/ul&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/6e169fe72765953cc5aa6.png"
                       
                 ></p>
<h4 id="注意-4"><a href="#注意-4" class="headerlink" title="注意"></a>注意</h4><p>​	上面的沙盒可能会输出这样一个控制台错误：</p>
<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/e9de97ef7e2277ee1309e.png"
                       
                 ></p>
<p>​	等会我们会学到怎么修复它。在此之前，我们先来看看如何把这个数组变得更加结构化。</p>
<h3 id="对数组项进行过滤"><a href="#对数组项进行过滤" class="headerlink" title="对数组项进行过滤"></a>对数组项进行过滤</h3><p>​	让我们把 <code>people</code> 数组变得更加结构化一点。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">const people = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: 0,</span><br><span class="line">    name: &#x27;凯瑟琳·约翰逊&#x27;,</span><br><span class="line">    profession: &#x27;数学家&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 1,</span><br><span class="line">    name: &#x27;马里奥·莫利纳&#x27;,</span><br><span class="line">    profession: &#x27;化学家&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 2,</span><br><span class="line">    name: &#x27;穆罕默德·阿卜杜勒·萨拉姆&#x27;,</span><br><span class="line">    profession: &#x27;物理学家&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">  	id: 3,</span><br><span class="line">    name: &#x27;珀西·莱温·朱利亚&#x27;,</span><br><span class="line">    profession: &#x27;化学家&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">  	id: 4,</span><br><span class="line">    name: &#x27;苏布拉马尼扬·钱德拉塞卡&#x27;,</span><br><span class="line">    profession: &#x27;天体物理学家&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>​	现在，假设你只想在屏幕上显示职业是 <code>化学家</code> 的人。那么你可以使用 JavaScript 的 <code>filter()</code> 方法来返回满足条件的项。这个方法会让数组的子项经过 “过滤器”（一个返回值为 <code>true</code> 或 <code>false</code> 的函数）的筛选，最终返回一个只包含满足条件的项的新数组。</p>
<p>​	既然你只想显示 profession 值是 化学家 的人，那么这里的 “过滤器” 函数应该长这样：(person) &#x3D;&gt; person.profession &#x3D;&#x3D;&#x3D; ‘化学家’。下面我们来看看该怎么把它们组合在一起：</p>
<ol>
<li>首先，<strong>创建</strong> 一个用来存化学家们的新数组 <code>chemists</code>，这里用到 <code>filter()</code> 方法过滤 <code>people</code> 数组来得到所有的化学家，过滤的条件应该是 <code>person.profession === &#39;化学家&#39;</code>：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const chemists = people.filter(person =&gt;</span><br><span class="line">  person.profession === &#x27;化学家&#x27;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>接下来 <strong>用 map 方法遍历</strong> <code>chemists</code> 数组:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const listItems = chemists.map(person =&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">     &lt;img</span><br><span class="line">       src=&#123;getImageUrl(person)&#125;</span><br><span class="line">       alt=&#123;person.name&#125; /&gt;</span><br><span class="line">     </span><br><span class="line">     &lt;p&gt;</span><br><span class="line">     </span><br><span class="line">       &lt;b&gt;&#123;person.name&#125;:&lt;/b&gt;</span><br><span class="line">       &#123;&#x27; &#x27; + person.profession + &#x27; &#x27;&#125;</span><br><span class="line">       因&#123;person.accomplishment&#125;而闻名世界</span><br><span class="line">       </span><br><span class="line">     &lt;/p&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>最后，<strong>返回</strong> <code>listItems</code>：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return &lt;ul&gt;&#123;listItems&#125;&lt;/ul&gt;;</span><br></pre></td></tr></table></figure>

<p>让我们来看看完整的代码：</p>
<p>utils.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export function getImageUrl(person) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &#x27;https://i.imgur.com/&#x27; +</span><br><span class="line">    person.imageId +</span><br><span class="line">    &#x27;s.jpg&#x27;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>data.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">export const people = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: 0,</span><br><span class="line">    name: &#x27;凯瑟琳·约翰逊&#x27;,</span><br><span class="line">    profession: &#x27;数学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;太空飞行相关数值的核算&#x27;,</span><br><span class="line">    imageId: &#x27;MK3eW3A&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 1,</span><br><span class="line">    name: &#x27;马里奥·莫利纳&#x27;,</span><br><span class="line">    profession: &#x27;化学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;北极臭氧空洞的发现&#x27;,</span><br><span class="line">    imageId: &#x27;mynHUSa&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 2,</span><br><span class="line">    name: &#x27;穆罕默德·阿卜杜勒·萨拉姆&#x27;,</span><br><span class="line">    profession: &#x27;物理学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;关于基本粒子间弱相互作用和电磁相互作用的统一理论&#x27;,</span><br><span class="line">    imageId: &#x27;bE7W1ji&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 3,</span><br><span class="line">    name: &#x27;珀西·莱温·朱利亚&#x27;,</span><br><span class="line">    profession: &#x27;化学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;开创性的可的松药物、类固醇和避孕药的研究&#x27;,</span><br><span class="line">    imageId: &#x27;IOjWm71&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 4,</span><br><span class="line">    name: &#x27;苏布拉马尼扬·钱德拉塞卡&#x27;,</span><br><span class="line">    profession: &#x27;天体物理学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;白矮星质量计算&#x27;,</span><br><span class="line">    imageId: &#x27;lrWQx8l&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import &#123; people &#125; from &#x27;./data.js&#x27;;</span><br><span class="line">import &#123; getImageUrl &#125; from &#x27;./utils.js&#x27;;</span><br><span class="line"></span><br><span class="line">export default function List() &#123;</span><br><span class="line">  const chemists = people.filter(person =&gt;</span><br><span class="line">    person.profession === &#x27;化学家&#x27;</span><br><span class="line">  );</span><br><span class="line">  const listItems = chemists.map(person =&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;img</span><br><span class="line">        src=&#123;getImageUrl(person)&#125;</span><br><span class="line">        alt=&#123;person.name&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;p&gt;</span><br><span class="line">        &lt;b&gt;&#123;person.name&#125;:&lt;/b&gt;</span><br><span class="line">        &#123;&#x27; &#x27; + person.profession + &#x27; &#x27;&#125;</span><br><span class="line">        因&#123;person.accomplishment&#125;而闻名世界</span><br><span class="line">      &lt;/p&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">  return &lt;ul&gt;&#123;listItems&#125;&lt;/ul&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/586bb686e1a617b34cc4a.png"
                       
                 ></p>
<h4 id="陷阱-1"><a href="#陷阱-1" class="headerlink" title="陷阱"></a>陷阱</h4><p>​	因为箭头函数会隐式地返回位于 &#x3D;&gt; 之后的表达式，所以你可以省略 return 语句。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const listItems = chemists.map(person =&gt;</span><br><span class="line">  &lt;li&gt;...&lt;/li&gt; // 隐式地返回！</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>​	不过，如果你的 &#x3D;&gt; 后面跟了一对花括号 { ，那你必须使用 return 来指定返回值！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const listItems = chemists.map(person =&gt; &#123; // 花括号</span><br><span class="line">  return &lt;li&gt;...&lt;/li&gt;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>​	箭头函数 &#x3D;&gt; { 后面的部分被称为 “块函数体”，块函数体支持多行代码的写法，但要用 return 语句才能指定返回值。假如你忘了写 return，那这个函数什么都不会返回！</p>
<h3 id="用-key-保持列表项的顺序"><a href="#用-key-保持列表项的顺序" class="headerlink" title="用 key 保持列表项的顺序"></a>用 key 保持列表项的顺序</h3><p>​	如果把上面任何一个沙盒示例在新标签页打开，你就会发现控制台有这样一个报错：</p>
<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/68349dd8432451b9e3cdb.png"
                       
                 ></p>
<p>​	这是因为你必须给数组中的每一项都指定一个 <code>key</code>——它可以是字符串或数字的形式，只要能唯一标识出各个数组项就行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li key=&#123;person.id&#125;&gt;...&lt;/li&gt;</span><br></pre></td></tr></table></figure>

<h4 id="注意-5"><a href="#注意-5" class="headerlink" title="注意"></a>注意</h4><p>​	直接放在 <code>map()</code> 方法里的 JSX 元素一般都需要指定 <code>key</code> 值！</p>
<p>​	这些 key 会告诉 React，每个组件对应着数组里的哪一项，所以 React 可以把它们匹配起来。这在数组项进行移动（例如排序）、插入或删除等操作时非常重要。一个合适的 <code>key</code> 可以帮助 React 推断发生了什么，从而得以正确地更新 DOM 树。</p>
<p>​	用作 key 的值应该在数据中提前就准备好，而不是在运行时才随手生成：</p>
<p>utils.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export function getImageUrl(person) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &#x27;https://i.imgur.com/&#x27; +</span><br><span class="line">    person.imageId +</span><br><span class="line">    &#x27;s.jpg&#x27;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>data.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">export const people = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: 0, // 在 JSX 中作为 key 使用</span><br><span class="line">    name: &#x27;凯瑟琳·约翰逊&#x27;,</span><br><span class="line">    profession: &#x27;数学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;太空飞行相关数值的核算&#x27;,</span><br><span class="line">    imageId: &#x27;MK3eW3A&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 1, // 在 JSX 中作为 key 使用</span><br><span class="line">    name: &#x27;马里奥·莫利纳&#x27;,</span><br><span class="line">    profession: &#x27;化学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;北极臭氧空洞的发现&#x27;,</span><br><span class="line">    imageId: &#x27;mynHUSa&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 2, // 在 JSX 中作为 key 使用</span><br><span class="line">    name: &#x27;穆罕默德·阿卜杜勒·萨拉姆&#x27;,</span><br><span class="line">    profession: &#x27;物理学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;关于基本粒子间弱相互作用和电磁相互作用的统一理论&#x27;,</span><br><span class="line">    imageId: &#x27;bE7W1ji&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 3, // 在 JSX 中作为 key 使用</span><br><span class="line">    name: &#x27;珀西·莱温·朱利亚&#x27;,</span><br><span class="line">    profession: &#x27;化学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;开创性的可的松药物、类固醇和避孕药&#x27;,</span><br><span class="line">    imageId: &#x27;IOjWm71&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 4, // 在 JSX 中作为 key 使用</span><br><span class="line">    name: &#x27;苏布拉马尼扬·钱德拉塞卡&#x27;,</span><br><span class="line">    profession: &#x27;天体物理学家&#x27;,</span><br><span class="line">    accomplishment: &#x27;白矮星质量计算&#x27;,</span><br><span class="line">    imageId: &#x27;lrWQx8l&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import &#123; people &#125; from &#x27;./data.js&#x27;;</span><br><span class="line">import &#123; getImageUrl &#125; from &#x27;./utils.js&#x27;;</span><br><span class="line"></span><br><span class="line">export default function List() &#123;</span><br><span class="line">  const listItems = people.map(person =&gt;</span><br><span class="line">    &lt;li key=&#123;person.id&#125;&gt;</span><br><span class="line">      &lt;img</span><br><span class="line">        src=&#123;getImageUrl(person)&#125;</span><br><span class="line">        alt=&#123;person.name&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;p&gt;</span><br><span class="line">        &lt;b&gt;&#123;person.name&#125;&lt;/b&gt;</span><br><span class="line">          &#123;&#x27; &#x27; + person.profession + &#x27; &#x27;&#125;</span><br><span class="line">          因&#123;person.accomplishment&#125;而闻名世界</span><br><span class="line">      &lt;/p&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">  return &lt;ul&gt;&#123;listItems&#125;&lt;/ul&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/41f0a4e41d784f8e60588.png"
                       
                 ></p>
<h3 id="为每个列表项显示多个-DOM-节点"><a href="#为每个列表项显示多个-DOM-节点" class="headerlink" title="为每个列表项显示多个 DOM 节点"></a>为每个列表项显示多个 DOM 节点</h3><p>​	如果你想让每个列表项都输出多个 DOM 节点而非一个的话，该怎么做呢？</p>
<p>​	Fragment 语法的简写形式 &lt;&gt; &lt;&#x2F;&gt; 无法接受 key 值，所以你只能要么把生成的节点用一个 div 标签包裹起来，要么使用长一点但更明确的 Fragment 写法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Fragment &#125; from &#x27;react&#x27;;</span><br><span class="line"></span><br><span class="line">// ...</span><br><span class="line"></span><br><span class="line">const listItems = people.map(person =&gt;</span><br><span class="line">  &lt;Fragment key=&#123;person.id&#125;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;person.name&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;p&gt;&#123;person.bio&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/Fragment&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>​	这里的 Fragment 标签本身并不会出现在 DOM 上，这串代码最终会转换成 <code>&lt;h1&gt;</code>、<code>&lt;p&gt;</code>、<code>&lt;h1&gt;</code>、<code>&lt;p&gt;</code>…… 的列表。</p>
<h3 id="如何设定-key-值"><a href="#如何设定-key-值" class="headerlink" title="如何设定 key 值"></a>如何设定 key 值</h3><p>​	不同来源的数据往往对应不同的 key 值获取方式：</p>
<ul>
<li>来自数据库的数据： 如果你的数据是从数据库中获取的，那你可以直接使用数据表中的主键，因为它们天然具有唯一性。</li>
<li>本地产生数据： 如果你数据的产生和保存都在本地（例如笔记软件里的笔记），那么你可以使用一个自增计数器或者一个类似 uuid 的库来生成 key。</li>
</ul>
<h4 id="key-需要满足的条件"><a href="#key-需要满足的条件" class="headerlink" title="key 需要满足的条件"></a>key 需要满足的条件</h4><ul>
<li>key 值在兄弟节点之间必须是唯一的。 不过不要求全局唯一，在不同的数组中可以使用相同的 key。</li>
<li>key 值不能改变，否则就失去了使用 key 的意义！所以千万不要在渲染时动态地生成 key。</li>
</ul>
<h4 id="React-中为什么需要-key？"><a href="#React-中为什么需要-key？" class="headerlink" title="React 中为什么需要 key？"></a>React 中为什么需要 key？</h4><p>​	设想一下，假如你桌面上的文件都没有文件名，取而代之的是，你需要通过文件的位置顺序来区分它们———第一个文件，第二个文件，以此类推。也许你也不是不能接受这种方式，可是一旦你删除了其中的一个文件，这种组织方式就会变得混乱无比。原来的第二个文件可能会变成第一个文件，第三个文件会成为第二个文件……</p>
<p>​	React 里需要 key 和文件夹里的文件需要有文件名的道理是类似的。它们（key 和文件名）都让我们可以从众多的兄弟元素中唯一标识出某一项（JSX 节点或文件）。而一个精心选择的 key 值所能提供的信息远远不止于这个元素在数组中的位置。即使元素的位置在渲染的过程中发生了改变，它提供的 key 值也能让 React 在整个生命周期中一直认得它。</p>
<h4 id="陷阱-2"><a href="#陷阱-2" class="headerlink" title="陷阱"></a>陷阱</h4><p>​	你可能会想直接把数组项的索引当作 key 值来用，实际上，如果你没有显式地指定 key 值，React 确实默认会这么做。但是数组项的顺序在插入、删除或者重新排序等操作中会发生改变，此时把索引顺序用作 key 值会产生一些微妙且令人困惑的 bug。</p>
<p>​	与之类似，请不要在运行过程中动态地产生 key，像是 key&#x3D;{Math.random()} 这种方式。这会导致每次重新渲染后的 key 值都不一样，从而使得所有的组件和 DOM 元素每次都要重新创建。这不仅会造成运行变慢的问题，更有可能导致用户输入的丢失。所以，使用能从给定数据中稳定取得的值才是明智的选择。</p>
<p>​	有一点需要注意，组件不会把 key 当作 props 的一部分。Key 的存在只对 React 本身起到提示作用。如果你的组件需要一个 ID，那么请把它作为一个单独的 prop 传给组件： <Profile key={id} userId={id} /></p>
<h2 id="保持组件纯粹"><a href="#保持组件纯粹" class="headerlink" title="保持组件纯粹"></a>保持组件纯粹</h2><p>​	部分 JavaScript 函数是 纯粹 的，这类函数通常被称为纯函数。纯函数仅执行计算操作，不做其他操作。你可以通过将组件按纯函数严格编写，以避免一些随着代码库的增长而出现的、令人困扰的 bug 以及不可预测的行为。但为了获得这些好处，你需要遵循一些规则。</p>
<h3 id="摘要-7"><a href="#摘要-7" class="headerlink" title="摘要"></a>摘要</h3><p> 你将会学习并了解:</p>
<ul>
<li><p>纯函数是什么，以及它如何帮助你避免 bug</p>
<ul>
<li>一个组件必须是纯粹的，就意味着：<ul>
<li><strong>只负责自己的任务。</strong> 它不会更改在该函数调用前就已存在的对象或变量。</li>
<li><strong>输入相同，则输出相同。</strong> 给定相同的输入，组件应该总是返回相同的 JSX。</li>
</ul>
</li>
</ul>
</li>
<li><p>如何将数据变更与渲染过程分离，以保持组件的纯粹</p>
<ul>
<li>渲染随时可能发生，因此组件不应依赖于彼此的渲染顺序。</li>
<li>你不应该改变组件用于渲染的任何输入。这包括 props、state 和 context。通过 “设置” state 来更新界面，而不要改变预先存在的对象。</li>
</ul>
</li>
<li><p>如何使用严格模式发现组件中的错误</p>
</li>
</ul>
<hr>
<h3 id="纯函数：组件作为公式"><a href="#纯函数：组件作为公式" class="headerlink" title="纯函数：组件作为公式"></a>纯函数：组件作为公式</h3><p>在计算机科学中（尤其是函数式编程的世界中），纯函数 通常具有如下特征：</p>
<ul>
<li><strong>只负责自己的任务</strong>。它不会更改在该函数调用前就已存在的对象或变量。</li>
<li><strong>输入相同，则输出相同</strong>。给定相同的输入，纯函数应总是返回相同的结果。</li>
</ul>
<p>举个你非常熟悉的纯函数示例：数学中的公式。</p>
<p>​	考虑如下数学公式：y &#x3D; 2x。</p>
<p>​	若 x &#x3D; 2 则 y &#x3D; 4。永远如此。</p>
<p>​	若 x &#x3D; 3 则 y &#x3D; 6。永远如此。</p>
<p>​	若 x &#x3D; 3，那么 y 并不会因为时间或股市的影响，而有时等于 9 、 –1 或 2.5。</p>
<p>​	若 y &#x3D; 2x 且 x &#x3D; 3, 那么 y <em>永远</em> 等于 6.</p>
<p>​	我们使用 JavaScript 的函数实现，看起来将会是这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function double(number) &#123;</span><br><span class="line">  return 2 * number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	上述例子中，double() 就是一个 纯函数。如果你传入 3 ，它将总是返回 6 。</p>
<p>​	React 便围绕着这个概念进行设计。React 假设你编写的所有组件都是纯函数。</p>
<p>​	也就是说，对于相同的输入，你所编写的 React 组件必须总是返回相同的 JSX。</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function Recipe(&#123; drinkers &#125;) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;ol&gt;    </span><br><span class="line">      &lt;li&gt;Boil &#123;drinkers&#125; cups of water.&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;Add &#123;drinkers&#125; spoons of tea and &#123;0.5 * drinkers&#125; spoons of spice.&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;Add &#123;0.5 * drinkers&#125; cups of milk to boil and sugar to taste.&lt;/li&gt;</span><br><span class="line">    &lt;/ol&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;h1&gt;Spiced Chai Recipe&lt;/h1&gt;</span><br><span class="line">      &lt;h2&gt;For two&lt;/h2&gt;</span><br><span class="line">      &lt;Recipe drinkers=&#123;2&#125; /&gt;</span><br><span class="line">      &lt;h2&gt;For a gathering&lt;/h2&gt;</span><br><span class="line">      &lt;Recipe drinkers=&#123;4&#125; /&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/257cc5788fa78cc39cb8a.png"
                       
                 ></p>
<p>​	当你给函数 Recipe 传入 drinkers&#x3D;{2} 参数时，它将返回包含 2 cups of water 的 JSX。永远如此。</p>
<p>​	而当你传入 drinkers&#x3D;{4} 时，它将返回包含 4 cups of water 的 JSX。永远如此。</p>
<p>​	就像数学公式一样。</p>
<p>​	你可以把你的组件当作食谱：如果你遵循它们，并且在烹饪过程中不引入新食材，你每次都会得到相同的菜肴。那这道 “菜肴” 就是组件用于 React 渲染 的 JSX。</p>
<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/39f8ef735457f38e35cf6.png"
                       
                 ></p>
<h3 id="副作用：（不符合）预期的后果"><a href="#副作用：（不符合）预期的后果" class="headerlink" title="副作用：（不符合）预期的后果"></a>副作用：（不符合）预期的后果</h3><p>​	React 的渲染过程必须自始至终是纯粹的。组件应该只 返回 它们的 JSX，而不 改变 在渲染前，就已存在的任何对象或变量 — 这将会使它们变得不纯粹！</p>
<p>​	以下是违反这一规则的组件示例：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">let guest = 0;</span><br><span class="line"></span><br><span class="line">function Cup() &#123;</span><br><span class="line">  // Bad: changing a preexisting variable!</span><br><span class="line">  guest = guest + 1;</span><br><span class="line">  return &lt;h2&gt;Tea cup for guest #&#123;guest&#125;&lt;/h2&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function TeaSet() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;Cup /&gt;</span><br><span class="line">      &lt;Cup /&gt;</span><br><span class="line">      &lt;Cup /&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/ddf65d37246aaedad516f.png"
                       
                 ></p>
<p>​	该组件正在读写其外部声明的 guest 变量。这意味着 多次调用这个组件会产生不同的 JSX！并且，如果 其他 组件读取 guest ，它们也会产生不同的 JSX，其结果取决于它们何时被渲染！这是无法预测的。</p>
<p>​	回到我们的公式 y &#x3D; 2x ，现在即使 x &#x3D; 2 ，我们也不能相信 y &#x3D; 4 。我们的测试可能会失败，我们的用户可能会感到困扰，飞机可能会从天空坠毁——你将看到这会引发多么扑朔迷离的 bugs！</p>
<p>​	你可以 将 guest 作为 prop 传入 来修复此组件：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function Cup(&#123; guest &#125;) &#123;</span><br><span class="line">  return &lt;h2&gt;Tea cup for guest #&#123;guest&#125;&lt;/h2&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function TeaSet() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;Cup guest=&#123;1&#125; /&gt;</span><br><span class="line">      &lt;Cup guest=&#123;2&#125; /&gt;</span><br><span class="line">      &lt;Cup guest=&#123;3&#125; /&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/851eb6ce4f896ac02366b.png"
                       
                 ></p>
<p>​	现在你的组件就是纯粹的，因为它返回的 JSX 只依赖于 guest prop。</p>
<p>​	一般来说，你不应该期望你的组件以任何特定的顺序被渲染。调用 y &#x3D; 5x 和 y &#x3D; 2x 的先后顺序并不重要：这两个公式相互独立。同样地，每个组件也应该“独立思考”，而不是在渲染过程中试图与其他组件协调，或者依赖于其他组件。渲染过程就像是一场学校考试：每个组件都应该自己计算 JSX！</p>
<h4 id="使用严格模式检测不纯的计算"><a href="#使用严格模式检测不纯的计算" class="headerlink" title="使用严格模式检测不纯的计算"></a>使用严格模式检测不纯的计算</h4><p>​	尽管你可能还没使用过，但在 React 中，你可以在渲染时读取三种输入：props，state 和 context。你应该始终将这些输入视为只读。</p>
<p>​	当你想根据用户输入 更改 某些内容时，你应该 设置状态，而不是直接写入变量。当你的组件正在渲染时，你永远不应该改变预先存在的变量或对象。</p>
<p>​	React 提供了 “严格模式”，在严格模式下开发时，它将会调用每个组件函数两次。通过重复调用组件函数，严格模式有助于找到违反这些规则的组件。</p>
<p>​	我们注意到，原始示例显示的是 “Guest #2”、“Guest #4” 和 “Guest #6”，而不是 “Guest #1”、“Guest #2” 和 “Guest #3”。原来的函数并不纯粹，因此调用它两次就出现了问题。但对于修复后的纯函数版本，即使调用该函数两次也能得到正确结果。纯函数仅仅执行计算，因此调用它们两次不会改变任何东西 — 就像两次调用 double(2) 并不会改变返回值，两次求解 y &#x3D; 2x 不会改变 y 的值一样。相同的输入，总是返回相同的输出。</p>
<p>​	严格模式在生产环境下不生效，因此它不会降低应用程序的速度。如需引入严格模式，你可以用 &lt;React.StrictMode&gt; 包裹根组件。一些框架会默认这样做。</p>
<h3 id="局部-mutation：组件的小秘密"><a href="#局部-mutation：组件的小秘密" class="headerlink" title="局部 mutation：组件的小秘密"></a>局部 mutation：组件的小秘密</h3><p>​	上述示例的问题出在渲染过程中，组件改变了 <strong>预先存在的</strong> 变量的值。为了让它听起来更可怕一点，我们将这种现象称为 <strong>突变（mutation）</strong> 。纯函数不会改变函数作用域外的变量、或在函数调用前创建的对象——这会使函数变得不纯粹！</p>
<p>​	但是，<strong>你完全可以在渲染时更改你 *刚刚* 创建的变量和对象</strong>。在本示例中，你创建一个 <code>[]</code> 数组，将其分配给一个 <code>cups</code> 变量，然后 <code>push</code> 一打 cup 进去：</p>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function Cup(&#123; guest &#125;) &#123;</span><br><span class="line">  return &lt;h2&gt;Tea cup for guest #&#123;guest&#125;&lt;/h2&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function TeaGathering() &#123;</span><br><span class="line">  let cups = [];</span><br><span class="line">  for (let i = 1; i &lt;= 12; i++) &#123;</span><br><span class="line">    cups.push(&lt;Cup key=&#123;i&#125; guest=&#123;i&#125; /&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">  return cups;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                       lazyload
                       alt="image"
                       data-src="https://telegraph-image.pages.dev/file/3b9b494e261c0fbf14256.png"
                       
                 ></p>
<p>​	如果 <code>cups</code> 变量或 <code>[]</code> 数组是在 <code>TeaGathering</code> 函数之外创建的，这将是一个很大的问题！因为如果那样的话，当你调用数组的 push 方法时，就会更改 <strong>预先存在的</strong> 对象。</p>
<p>​	但是，这里不会有影响，因为每次渲染时，你都是在 <code>TeaGathering</code> 函数内部创建的它们。<code>TeaGathering</code> 之外的代码并不会知道发生了什么。这就被称为 <strong>“局部 mutation”</strong> — 如同藏在组件里的小秘密。</p>
<h3 id="哪些地方-可能-引发副作用"><a href="#哪些地方-可能-引发副作用" class="headerlink" title="哪些地方 可能 引发副作用"></a>哪些地方 可能 引发副作用</h3><p>​	函数式编程在很大程度上依赖于纯函数，但 <strong>某些事物</strong> 在特定情况下不得不发生改变。这是编程的要义！这些变动包括更新屏幕、启动动画、更改数据等，它们被称为 <strong>副作用</strong>。它们是 <strong>“额外”</strong> 发生的事情，与渲染过程无关。</p>
<p>​	在 React 中，<strong>副作用通常属于</strong> 事件处理程序。事件处理程序是 React 在你执行某些操作（如单击按钮）时运行的函数。即使事件处理程序是在你的组件 <strong>内部</strong> 定义的，它们也不会在渲染期间运行！ <strong>因此事件处理程序无需是纯函数</strong>。</p>
<p>如果你用尽一切办法，仍无法为副作用找到合适的事件处理程序，你还可以调用组件中的 useEffect 方法将其附加到返回的 JSX 中。这会告诉 React 在渲染结束后执行它。<strong>然而，这种方法应该是你最后的手段</strong>。</p>
<p>如果可能，请尝试仅通过渲染过程来表达你的逻辑。你会惊讶于这能带给你多少好处！</p>
<h3 id="React-为何侧重于纯函数"><a href="#React-为何侧重于纯函数" class="headerlink" title="React 为何侧重于纯函数?"></a>React 为何侧重于纯函数?</h3><p>编写纯函数需要遵循一些习惯和规程。但它开启了绝妙的机遇：</p>
<ul>
<li>你的组件可以在不同的环境下运行 — 例如，在服务器上！由于它们针对相同的输入，总是返回相同的结果，因此一个组件可以满足多个用户请求。</li>
<li>你可以为那些输入未更改的组件来 跳过渲染，以提高性能。这是安全的做法，因为纯函数总是返回相同的结果，所以可以安全地缓存它们。</li>
<li>如果在渲染深层组件树的过程中，某些数据发生了变化，React 可以重新开始渲染，而不会浪费时间完成过时的渲染。纯粹性使得它随时可以安全地停止计算。</li>
</ul>
<p>我们正在构建的每个 React 新特性都利用到了纯函数。从数据获取到动画再到性能，保持组件的纯粹可以充分释放 React 范式的能力。	</p>

                    
                </div>

                
                        
<div class="post-copyright-info-container border-box">
    <div class="copyright-info-content border-box">
        <div class="copyright-info-top border-box">
            <div class="copyright-post-title border-box text-ellipsis">
                React新手进阶学习(一)
            </div>

            <div class="copyright-post-link border-box text-ellipsis">
                2023/07/13/React新手进阶学习(一)/
            </div>
        </div>

        <div class="copyright-info-bottom border-box">
            <div class="copyright-post-author bottom-item">
                <div class="type">
                    作者
                </div>
                <div class="content">ドラゴンボールのLong</div>
            </div>

            <div class="post-time bottom-item">
                <div class="type">
                    发布于
                </div>
                <div class="content">2023-07-13 08:10</div>
            </div>


            <div class="post-license bottom-item">
                <div class="type">
                    许可
                </div>
                <div class="content tooltip" data-tooltip-content="">
                    <a href="https://zhongshenglong.xyz" target="_blank">
                        
                            Long License
                        
                    </a>
                </div>
            </div>
        </div>

        <i class="copyright-bg fa-solid fa-copyright"></i>
    </div>
    <div class="copy-copyright-info flex-center tooltip" data-tooltip-content="复制版权信息" data-tooltip-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                

                <div class="post-bottom-tags-and-share border-box">
                    <div>
                        
                            <ul class="post-tags-box border-box">
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/%E6%8A%80%E6%9C%AF/">技术</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/%E5%BF%83%E5%BE%97/">心得</a>
                                    </li>
                                
                                    <li class="tag-item border-box">
                                        <i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/React/">React</a>
                                    </li>
                                
                            </ul>
                        
                    </div>
                    <div>
                        
                            <div class="post-share-container border-box">
    <ul class="share-list-wrap border-box">
        <li class="qq share-item border-box flex-center tooltip"
            data-tooltip-content="分享到 QQ"
        >
            <i class="fa-brands fa-qq"></i>
        </li>
        <li class="wechat share-item border-box flex-center tooltip tooltip-img"
            data-tooltip-content="分享到微信"
            data-tooltip-img-tip="微信扫一扫"
            data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"
        >
            <i class="fa-brands fa-weixin"></i>
        </li>
        <li class="weibo share-item border-box flex-center tooltip"
            data-tooltip-content="分享到微博"
        >
            <i class="fa-brands fa-weibo"></i>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>

                
                    

<div class="reward-author-container border-box flex-center">
    <div class="reward-btn border-box flex-center tooltip tooltip-img"
            data-tooltip-img-url="/images/reward.jpg"
            data-tooltip-img-trigger="click"
            data-tooltip-img-style="top: -6px;"
    >
        <i class="fa-solid fa-gift"></i>&nbsp;请作者喝咖啡
    </div>
</div>

                

                
                    <div class="post-nav border-box">
                        
                        
                            <div class="next-post">
                                <a class="next"
                                   rel="next"
                                   href="/2023/05/20/midiourney%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"
                                   title="Midjourney_ai绘画全面解析"
                                >
                                    <span class="title flex-center">
                                        <span class="post-nav-title-item text-ellipsis">Midjourney_ai绘画全面解析</span>
                                        <span class="post-nav-item">下一篇</span>
                                    </span>
                                    <span class="right arrow-icon flex-center">
                                        <i class="fas fa-chevron-right"></i>
                                    </span>
                                </a>
                            </div>
                        
                    </div>
                

                
                    


    <div class="comments-container border-box">
        <div id="comments-anchor" class="comment-area-title border-box">
            <i class="fas fa-comments"></i>&nbsp;评论
        </div>
        <div class="comment-plugin-fail border-box">
    <span class="fail-tip">评论插件加载失败</span>
    <button class="reload keep-button">点击重新加载</button>
</div>
<div class="comment-plugin-loading flex-center border-box">
    <i class="loading-icon fa-solid fa-spinner fa-spin"></i>
    <span class="load-tip">正在加载评论插件</span>
</div>
<script data-pjax>
  window.KeepCommentPlugin = {}
  window.KeepCommentPlugin.hideLoading = () => {
    const cplDom = document.querySelector('.comments-container .comment-plugin-loading')
    cplDom.style.display = 'none'
  }
  window.KeepCommentPlugin.loadFailHandle = () => {
    window.KeepCommentPlugin.hideLoading()
    const cpfDom = document.querySelector('.comments-container .comment-plugin-fail')
    cpfDom.style.display = 'flex'
    cpfDom.querySelector('.reload').addEventListener('click', () => {
      window.location.reload()
    })
  }
</script>

        
            

    <div class="valine-container">
        <div id="vcomments"></div>
        <script 
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        ></script>
        <script 
                async
                onerror="window.KeepCommentPlugin.loadFailHandle()"
        >
          window.KeepCommentPlugin.initValine = () => {
            const config = {
              el: '#vcomments',
              appId: '2TGCOmDNikdxOnVmQJEFhTOK-gzGzoHsz',
              appKey: 'lU21jvewvcy043UjfpHRXfvA',
              meta: ['nick', 'mail', 'link'],
              avatar: 'wavatar',
              enableQQ: true,
              placeholder: '😜 尽情吐槽吧~',
              lang: 'zh-CN'.toLowerCase()
            }

            if ('') {
              config.serverURLs = ''
            }

            if (window?.Valine) {
              new Valine(config)
              window.KeepCommentPlugin.hideLoading()
            } else {
              setTimeout(() => {
                window.KeepCommentPlugin.initValine()
              }, 1000)
            }
          }

          if ('false' === 'true') {
            setTimeout(() => {
              window.KeepCommentPlugin.initValine()
            }, 1200)
          } else {
            window.addEventListener('DOMContentLoaded', window.KeepCommentPlugin.initValine)
          }
        </script>
    </div>


        
    </div>





                
            </div>
        </div>

        
            <div class="pc-post-toc right-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#React%E6%96%B0%E6%89%8B%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0-%E4%B8%80"><span class="nav-number">1.</span> <span class="nav-text">React新手进阶学习(一)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Readme-%E5%89%8D%E8%A8%80"><span class="nav-number">1.2.</span> <span class="nav-text">Readme (前言)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="nav-number">1.2.1.</span> <span class="nav-text">计数器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%A4%E8%80%85%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">1.2.2.</span> <span class="nav-text">两者的区别是什么？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.</span> <span class="nav-text">第一个组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81"><span class="nav-number">1.3.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%84%E4%BB%B6%EF%BC%9F"><span class="nav-number">1.3.2.</span> <span class="nav-text">什么是组件？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90%E8%AF%B4%E6%98%8E"><span class="nav-number">1.3.3.</span> <span class="nav-text">解析说明</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">注意事项(非常重要)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%87%BA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">导出组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">定义函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E6%A0%87%E7%AD%BE"><span class="nav-number">1.3.3.4.</span> <span class="nav-text">添加标签</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.4.</span> <span class="nav-text">使用组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90%E4%B8%8A%E6%96%B9%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">解析上方的代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B5%8C%E5%A5%97%E5%92%8C%E7%BB%84%E7%BB%87%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.5.</span> <span class="nav-text">嵌套和组织组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">1.3.5.1.</span> <span class="nav-text">注意事项</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E5%AF%BC%E5%85%A5%E4%B8%8E%E5%AF%BC%E5%87%BA"><span class="nav-number">1.4.</span> <span class="nav-text">组件的导入与导出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-1"><span class="nav-number">1.4.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B9%E7%BB%84%E4%BB%B6%E6%96%87%E4%BB%B6"><span class="nav-number">1.4.2.</span> <span class="nav-text">根组件文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E5%87%BA%E5%92%8C%E5%AF%BC%E5%85%A5%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.4.3.</span> <span class="nav-text">导出和导入一个组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">注意事项</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA-vs-%E5%85%B7%E5%90%8D%E5%AF%BC%E5%87%BA"><span class="nav-number">1.4.4.</span> <span class="nav-text">默认导出 vs 具名导出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E5%90%8C%E4%B8%80%E6%96%87%E4%BB%B6%E4%B8%AD%E5%AF%BC%E5%87%BA%E5%92%8C%E5%AF%BC%E5%85%A5%E5%A4%9A%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.4.5.</span> <span class="nav-text">从同一文件中导出和导入多个组件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-JSX-%E4%B9%A6%E5%86%99%E6%A0%87%E7%AD%BE%E8%AF%AD%E8%A8%80"><span class="nav-number">1.5.</span> <span class="nav-text">使用 JSX 书写标签语言</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-2"><span class="nav-number">1.5.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSX-%E5%B0%86%E6%A0%87%E7%AD%BE%E5%BC%95%E5%85%A5-JavaScript"><span class="nav-number">1.5.2.</span> <span class="nav-text">JSX: 将标签引入 JavaScript</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86-HTML-%E8%BD%AC%E5%8C%96%E4%B8%BA-JSX"><span class="nav-number">1.5.3.</span> <span class="nav-text">将 HTML 转化为 JSX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F"><span class="nav-number">1.5.4.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSX-%E8%A7%84%E5%88%99"><span class="nav-number">1.5.5.</span> <span class="nav-text">JSX 规则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%A4%9A%E4%B8%AA-JSX-%E6%A0%87%E7%AD%BE%E9%9C%80%E8%A6%81%E8%A2%AB%E4%B8%80%E4%B8%AA%E7%88%B6%E5%85%83%E7%B4%A0%E5%8C%85%E8%A3%B9%EF%BC%9F"><span class="nav-number">1.5.5.1.</span> <span class="nav-text">为什么多个 JSX 标签需要被一个父元素包裹？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE%E5%BF%85%E9%A1%BB%E9%97%AD%E5%90%88"><span class="nav-number">1.5.6.</span> <span class="nav-text">标签必须闭合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E9%A9%BC%E5%B3%B0%E5%BC%8F%E5%91%BD%E5%90%8D%E6%B3%95%E7%BB%99-%E6%89%80%E6%9C%89-%E5%A4%A7%E9%83%A8%E5%88%86%E5%B1%9E%E6%80%A7%E5%91%BD%E5%90%8D%EF%BC%81"><span class="nav-number">1.5.7.</span> <span class="nav-text">使用驼峰式命名法给 所有 大部分属性命名！</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E6%8F%90%E7%A4%BA%EF%BC%9A%E4%BD%BF%E7%94%A8-JSX-%E8%BD%AC%E5%8C%96%E5%99%A8"><span class="nav-number">1.5.8.</span> <span class="nav-text">高级提示：使用 JSX 转化器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8-JSX-%E4%B8%AD%E9%80%9A%E8%BF%87%E5%A4%A7%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8-JavaScript"><span class="nav-number">1.6.</span> <span class="nav-text">在 JSX 中通过大括号使用 JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-3"><span class="nav-number">1.6.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%BC%95%E5%8F%B7%E4%BC%A0%E9%80%92%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.6.2.</span> <span class="nav-text">使用引号传递字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7%EF%BC%9A%E4%B8%80%E6%89%87%E8%BF%9B%E5%85%A5-JavaScript-%E4%B8%96%E7%95%8C%E7%9A%84%E7%AA%97%E6%88%B7"><span class="nav-number">1.6.3.</span> <span class="nav-text">使用大括号：一扇进入 JavaScript 世界的窗户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%93%AA%E4%BD%BF%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7"><span class="nav-number">1.6.4.</span> <span class="nav-text">可以在哪使用大括号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-%E2%80%9C%E5%8F%8C%E5%A4%A7%E6%8B%AC%E5%8F%B7%E2%80%9D%EF%BC%9AJSX-%E4%B8%AD%E7%9A%84-CSS-%E5%92%8C-%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.6.5.</span> <span class="nav-text">使用 “双大括号”：JSX 中的 CSS 和 对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-1"><span class="nav-number">1.6.6.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JavaScript-%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%A4%A7%E6%8B%AC%E5%8F%B7%E7%9A%84%E6%9B%B4%E5%A4%9A%E5%8F%AF%E8%83%BD"><span class="nav-number">1.6.7.</span> <span class="nav-text">JavaScript 对象和大括号的更多可能</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86-Props-%E4%BC%A0%E9%80%92%E7%BB%99%E7%BB%84%E4%BB%B6"><span class="nav-number">1.7.</span> <span class="nav-text">将 Props 传递给组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-4"><span class="nav-number">1.7.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%86%9F%E6%82%89%E7%9A%84-props"><span class="nav-number">1.7.2.</span> <span class="nav-text">熟悉的 props</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%91%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92-props"><span class="nav-number">1.7.3.</span> <span class="nav-text">向组件传递 props</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%A5%E9%AA%A4-1-%E5%B0%86-props-%E4%BC%A0%E9%80%92%E7%BB%99%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="nav-number">1.7.3.1.</span> <span class="nav-text">步骤 1: 将 props 传递给子组件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-2"><span class="nav-number">1.7.4.</span> <span class="nav-text">注意</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%A5%E9%AA%A4-2-%E5%9C%A8%E5%AD%90%E7%BB%84%E4%BB%B6%E4%B8%AD%E8%AF%BB%E5%8F%96-props"><span class="nav-number">1.7.4.1.</span> <span class="nav-text">步骤 2: 在子组件中读取 props</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-3"><span class="nav-number">1.7.5.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%99-prop-%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-number">1.7.6.</span> <span class="nav-text">给 prop 指定一个默认值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-JSX-%E5%B1%95%E5%BC%80%E8%AF%AD%E6%B3%95%E4%BC%A0%E9%80%92-props"><span class="nav-number">1.7.7.</span> <span class="nav-text">使用 JSX 展开语法传递 props</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86-JSX-%E4%BD%9C%E4%B8%BA%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92"><span class="nav-number">1.7.8.</span> <span class="nav-text">将 JSX 作为子组件传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Props-%E5%A6%82%E4%BD%95%E9%9A%8F%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96"><span class="nav-number">1.7.9.</span> <span class="nav-text">Props 如何随时间变化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="nav-number">1.8.</span> <span class="nav-text">条件渲染</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-5"><span class="nav-number">1.8.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%BF%94%E5%9B%9E-JSX"><span class="nav-number">1.8.2.</span> <span class="nav-text">条件返回 JSX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%80%A7%E5%9C%B0%E8%BF%94%E5%9B%9E-null"><span class="nav-number">1.8.3.</span> <span class="nav-text">选择性地返回 null</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%80%A7%E5%9C%B0%E5%8C%85%E5%90%AB-JSX"><span class="nav-number">1.8.4.</span> <span class="nav-text">选择性地包含 JSX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88-%EF%BC%89"><span class="nav-number">1.8.5.</span> <span class="nav-text">三目运算符（? :）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E4%B8%AA%E4%BE%8B%E5%AD%90%E5%AE%8C%E5%85%A8%E4%B8%80%E6%A0%B7%E5%90%97%EF%BC%9F"><span class="nav-number">1.8.5.1.</span> <span class="nav-text">两个例子完全一样吗？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88-%EF%BC%89"><span class="nav-number">1.8.6.</span> <span class="nav-text">与运算符（&amp;&amp;）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%B7%E9%98%B1"><span class="nav-number">1.8.6.1.</span> <span class="nav-text">陷阱</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%80%A7%E5%9C%B0%E5%B0%86-JSX-%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%98%E9%87%8F"><span class="nav-number">1.8.7.</span> <span class="nav-text">选择性地将 JSX 赋值给变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B8%B2%E6%9F%93%E5%88%97%E8%A1%A8"><span class="nav-number">1.9.</span> <span class="nav-text">渲染列表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-6"><span class="nav-number">1.9.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E6%95%B0%E7%BB%84%E4%B8%AD%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE"><span class="nav-number">1.9.2.</span> <span class="nav-text">从数组中渲染数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-4"><span class="nav-number">1.9.2.1.</span> <span class="nav-text">注意</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E6%95%B0%E7%BB%84%E9%A1%B9%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4"><span class="nav-number">1.9.3.</span> <span class="nav-text">对数组项进行过滤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%B7%E9%98%B1-1"><span class="nav-number">1.9.3.1.</span> <span class="nav-text">陷阱</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8-key-%E4%BF%9D%E6%8C%81%E5%88%97%E8%A1%A8%E9%A1%B9%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="nav-number">1.9.4.</span> <span class="nav-text">用 key 保持列表项的顺序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-5"><span class="nav-number">1.9.4.1.</span> <span class="nav-text">注意</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E6%AF%8F%E4%B8%AA%E5%88%97%E8%A1%A8%E9%A1%B9%E6%98%BE%E7%A4%BA%E5%A4%9A%E4%B8%AA-DOM-%E8%8A%82%E7%82%B9"><span class="nav-number">1.9.5.</span> <span class="nav-text">为每个列表项显示多个 DOM 节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%AE%BE%E5%AE%9A-key-%E5%80%BC"><span class="nav-number">1.9.6.</span> <span class="nav-text">如何设定 key 值</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#key-%E9%9C%80%E8%A6%81%E6%BB%A1%E8%B6%B3%E7%9A%84%E6%9D%A1%E4%BB%B6"><span class="nav-number">1.9.6.1.</span> <span class="nav-text">key 需要满足的条件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#React-%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-key%EF%BC%9F"><span class="nav-number">1.9.6.2.</span> <span class="nav-text">React 中为什么需要 key？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%B7%E9%98%B1-2"><span class="nav-number">1.9.6.3.</span> <span class="nav-text">陷阱</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%9D%E6%8C%81%E7%BB%84%E4%BB%B6%E7%BA%AF%E7%B2%B9"><span class="nav-number">1.10.</span> <span class="nav-text">保持组件纯粹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-7"><span class="nav-number">1.10.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%AF%E5%87%BD%E6%95%B0%EF%BC%9A%E7%BB%84%E4%BB%B6%E4%BD%9C%E4%B8%BA%E5%85%AC%E5%BC%8F"><span class="nav-number">1.10.2.</span> <span class="nav-text">纯函数：组件作为公式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%AF%E4%BD%9C%E7%94%A8%EF%BC%9A%EF%BC%88%E4%B8%8D%E7%AC%A6%E5%90%88%EF%BC%89%E9%A2%84%E6%9C%9F%E7%9A%84%E5%90%8E%E6%9E%9C"><span class="nav-number">1.10.3.</span> <span class="nav-text">副作用：（不符合）预期的后果</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E6%A3%80%E6%B5%8B%E4%B8%8D%E7%BA%AF%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="nav-number">1.10.3.1.</span> <span class="nav-text">使用严格模式检测不纯的计算</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%80%E9%83%A8-mutation%EF%BC%9A%E7%BB%84%E4%BB%B6%E7%9A%84%E5%B0%8F%E7%A7%98%E5%AF%86"><span class="nav-number">1.10.4.</span> <span class="nav-text">局部 mutation：组件的小秘密</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%AA%E4%BA%9B%E5%9C%B0%E6%96%B9-%E5%8F%AF%E8%83%BD-%E5%BC%95%E5%8F%91%E5%89%AF%E4%BD%9C%E7%94%A8"><span class="nav-number">1.10.5.</span> <span class="nav-text">哪些地方 可能 引发副作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#React-%E4%B8%BA%E4%BD%95%E4%BE%A7%E9%87%8D%E4%BA%8E%E7%BA%AF%E5%87%BD%E6%95%B0"><span class="nav-number">1.10.6.</span> <span class="nav-text">React 为何侧重于纯函数?</span></a></li></ol></li></ol></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>
        </div>

        <div class="page-main-content-bottom border-box">
            

<script language=javascript>
	function siteTime(){
		window.setTimeout("siteTime()", 1000);
		var seconds = 1000;
		var minutes = seconds * 60;
		var hours = minutes * 60;
		var days = hours * 24;
		var years = days * 365;
		var today = new Date();
		var todayYear = today.getFullYear();
		var todayMonth = today.getMonth()+1;
		var todayDate = today.getDate();
		var todayHour = today.getHours();
		var todayMinute = today.getMinutes();
		var todaySecond = today.getSeconds();
		/* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
		year - 作为date对象的年份，为4位年份值
		month - 0-11之间的整数，做为date对象的月份
		day - 1-31之间的整数，做为date对象的天数
		hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
		minutes - 0-59之间的整数，做为date对象的分钟数
		seconds - 0-59之间的整数，做为date对象的秒数
		microseconds - 0-999之间的整数，做为date对象的毫秒数 */
		var t1 = Date.UTC(2019,04,09,21,47,00); //北京时间2018-2-13 00:00:00
		var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
		var diff = t2-t1;
		var diffYears = Math.floor(diff/years);
		var diffDays = Math.floor((diff/days)-diffYears*365);
		var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
		var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
		var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
		document.getElementById("sitetime").innerHTML="❤亲爱的旅客,我已与你/妳相遇❤❤❤"+" 第 "+diffYears+" 年 "+diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒❤";
	}/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
	siteTime();
</script>

<footer class="footer border-box">
		
	<a href="https://www.foreverblog.cn/" target="_blank" > <img src="https://img.foreverblog.cn/logo_en_default.png" alt="" style="width:auto;height:16px;"> </a>

    
        
        <div class="deploy-info info-item">
            
            本站由 <span class="tooltip" data-tooltip-content="阿里云"><img src="/images/brands/aliyun.png"></span> 提供部署服务
            
        </div>
    

    
        <div class="record-info info-item">
		ICP备案号：【&nbsp;
            
                
                    <div class="record-item border-box">
                        <a class=""
                           target="_blank"
                           href="https://beian.miit.gov.cn"
                        >
                            苏ICP备20001538号-1
                        </a>
                    </div>
                
            
		&nbsp;】&nbsp;
        </div>
    
	
    <div class="copyright-info info-item">
        &copy;&nbsp;<span>2019</span>&nbsp;-&nbsp;2024
        
            &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">ドラゴンボールのLong</a>
        
		&nbsp;&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a>
    </div>

    
        <div class="count-info info-item">
            
                <span class="count-item border-box word">
                    <span class="item-type border-box">总字数</span>
                    <span class="item-value border-box word">125.5k</span>
                </span>
            

            
                <span class="count-item border-box uv">
                    <span class="item-type border-box">访客数</span>
                    <span class="item-value border-box uv" id="busuanzi_value_site_uv"></span>
                </span>
            

            
                <span class="count-item border-box pv">
                    <span class="item-type border-box">访问量</span>
                    <span class="item-value border-box pv" id="busuanzi_value_site_pv"></span>
                </span>
            
        </div>
    
	
	<!--自定义了时间-->
    <p id="sitetime" target="_blank"></p>
</footer>

        </div>
    </div>

    <!-- post tools -->
    
        <div class="post-tools right-toc">
            <div class="post-tools-container border-box">
    <ul class="post-tools-list border-box">
        <!-- PC encrypt again -->
        

        <!-- PC TOC show toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- PC go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        

        <!-- PC full screen -->
        <li class="tools-item flex-center full-screen">
            <i class="fa-solid fa-expand"></i>
        </li>
    </ul>
</div>

        </div>
    

    <!-- side tools -->
    <div class="side-tools">
        <div class="side-tools-container border-box ">
    <ul class="side-tools-list side-tools-show-handle border-box">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <!-- toggle mode -->
        
            <li class="tools-item tool-toggle-theme-mode flex-center">
                <i class="fas fa-moon"></i>
            </li>
        

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        <!-- to bottom -->
        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list border-box">
        
            <li class="tools-item toggle-show-toc-tablet flex-center">
                <i class="fas fa-list"></i>
            </li>
        

        
            <li class="tools-item go-to-comments-tablet flex-center">
                <i class="fas fa-comment"></i>
            </li>
        

        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center show-arrow">
            <i class="arrow fas fa-arrow-up"></i>
            <span class="percent"></span>
        </li>
    </ul>
</div>

    </div>

    <!-- image mask -->
    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    <!-- local search -->
    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

    <!-- tablet toc -->
    
        <div class="tablet-post-toc-mask">
            <div class="tablet-post-toc">
                <div class="post-toc-wrap border-box">
    <div class="post-toc border-box">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#React%E6%96%B0%E6%89%8B%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0-%E4%B8%80"><span class="nav-number">1.</span> <span class="nav-text">React新手进阶学习(一)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Readme-%E5%89%8D%E8%A8%80"><span class="nav-number">1.2.</span> <span class="nav-text">Readme (前言)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="nav-number">1.2.1.</span> <span class="nav-text">计数器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%A4%E8%80%85%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">1.2.2.</span> <span class="nav-text">两者的区别是什么？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.</span> <span class="nav-text">第一个组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81"><span class="nav-number">1.3.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%84%E4%BB%B6%EF%BC%9F"><span class="nav-number">1.3.2.</span> <span class="nav-text">什么是组件？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90%E8%AF%B4%E6%98%8E"><span class="nav-number">1.3.3.</span> <span class="nav-text">解析说明</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">注意事项(非常重要)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%87%BA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">导出组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">定义函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E6%A0%87%E7%AD%BE"><span class="nav-number">1.3.3.4.</span> <span class="nav-text">添加标签</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.4.</span> <span class="nav-text">使用组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90%E4%B8%8A%E6%96%B9%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">解析上方的代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B5%8C%E5%A5%97%E5%92%8C%E7%BB%84%E7%BB%87%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.5.</span> <span class="nav-text">嵌套和组织组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">1.3.5.1.</span> <span class="nav-text">注意事项</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E5%AF%BC%E5%85%A5%E4%B8%8E%E5%AF%BC%E5%87%BA"><span class="nav-number">1.4.</span> <span class="nav-text">组件的导入与导出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-1"><span class="nav-number">1.4.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B9%E7%BB%84%E4%BB%B6%E6%96%87%E4%BB%B6"><span class="nav-number">1.4.2.</span> <span class="nav-text">根组件文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E5%87%BA%E5%92%8C%E5%AF%BC%E5%85%A5%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.4.3.</span> <span class="nav-text">导出和导入一个组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">注意事项</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%87%BA-vs-%E5%85%B7%E5%90%8D%E5%AF%BC%E5%87%BA"><span class="nav-number">1.4.4.</span> <span class="nav-text">默认导出 vs 具名导出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E5%90%8C%E4%B8%80%E6%96%87%E4%BB%B6%E4%B8%AD%E5%AF%BC%E5%87%BA%E5%92%8C%E5%AF%BC%E5%85%A5%E5%A4%9A%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="nav-number">1.4.5.</span> <span class="nav-text">从同一文件中导出和导入多个组件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-JSX-%E4%B9%A6%E5%86%99%E6%A0%87%E7%AD%BE%E8%AF%AD%E8%A8%80"><span class="nav-number">1.5.</span> <span class="nav-text">使用 JSX 书写标签语言</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-2"><span class="nav-number">1.5.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSX-%E5%B0%86%E6%A0%87%E7%AD%BE%E5%BC%95%E5%85%A5-JavaScript"><span class="nav-number">1.5.2.</span> <span class="nav-text">JSX: 将标签引入 JavaScript</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86-HTML-%E8%BD%AC%E5%8C%96%E4%B8%BA-JSX"><span class="nav-number">1.5.3.</span> <span class="nav-text">将 HTML 转化为 JSX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F"><span class="nav-number">1.5.4.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSX-%E8%A7%84%E5%88%99"><span class="nav-number">1.5.5.</span> <span class="nav-text">JSX 规则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%A4%9A%E4%B8%AA-JSX-%E6%A0%87%E7%AD%BE%E9%9C%80%E8%A6%81%E8%A2%AB%E4%B8%80%E4%B8%AA%E7%88%B6%E5%85%83%E7%B4%A0%E5%8C%85%E8%A3%B9%EF%BC%9F"><span class="nav-number">1.5.5.1.</span> <span class="nav-text">为什么多个 JSX 标签需要被一个父元素包裹？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE%E5%BF%85%E9%A1%BB%E9%97%AD%E5%90%88"><span class="nav-number">1.5.6.</span> <span class="nav-text">标签必须闭合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E9%A9%BC%E5%B3%B0%E5%BC%8F%E5%91%BD%E5%90%8D%E6%B3%95%E7%BB%99-%E6%89%80%E6%9C%89-%E5%A4%A7%E9%83%A8%E5%88%86%E5%B1%9E%E6%80%A7%E5%91%BD%E5%90%8D%EF%BC%81"><span class="nav-number">1.5.7.</span> <span class="nav-text">使用驼峰式命名法给 所有 大部分属性命名！</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E6%8F%90%E7%A4%BA%EF%BC%9A%E4%BD%BF%E7%94%A8-JSX-%E8%BD%AC%E5%8C%96%E5%99%A8"><span class="nav-number">1.5.8.</span> <span class="nav-text">高级提示：使用 JSX 转化器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8-JSX-%E4%B8%AD%E9%80%9A%E8%BF%87%E5%A4%A7%E6%8B%AC%E5%8F%B7%E4%BD%BF%E7%94%A8-JavaScript"><span class="nav-number">1.6.</span> <span class="nav-text">在 JSX 中通过大括号使用 JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-3"><span class="nav-number">1.6.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%BC%95%E5%8F%B7%E4%BC%A0%E9%80%92%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.6.2.</span> <span class="nav-text">使用引号传递字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7%EF%BC%9A%E4%B8%80%E6%89%87%E8%BF%9B%E5%85%A5-JavaScript-%E4%B8%96%E7%95%8C%E7%9A%84%E7%AA%97%E6%88%B7"><span class="nav-number">1.6.3.</span> <span class="nav-text">使用大括号：一扇进入 JavaScript 世界的窗户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%93%AA%E4%BD%BF%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7"><span class="nav-number">1.6.4.</span> <span class="nav-text">可以在哪使用大括号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-%E2%80%9C%E5%8F%8C%E5%A4%A7%E6%8B%AC%E5%8F%B7%E2%80%9D%EF%BC%9AJSX-%E4%B8%AD%E7%9A%84-CSS-%E5%92%8C-%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.6.5.</span> <span class="nav-text">使用 “双大括号”：JSX 中的 CSS 和 对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-1"><span class="nav-number">1.6.6.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JavaScript-%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%A4%A7%E6%8B%AC%E5%8F%B7%E7%9A%84%E6%9B%B4%E5%A4%9A%E5%8F%AF%E8%83%BD"><span class="nav-number">1.6.7.</span> <span class="nav-text">JavaScript 对象和大括号的更多可能</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86-Props-%E4%BC%A0%E9%80%92%E7%BB%99%E7%BB%84%E4%BB%B6"><span class="nav-number">1.7.</span> <span class="nav-text">将 Props 传递给组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-4"><span class="nav-number">1.7.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%86%9F%E6%82%89%E7%9A%84-props"><span class="nav-number">1.7.2.</span> <span class="nav-text">熟悉的 props</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%91%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92-props"><span class="nav-number">1.7.3.</span> <span class="nav-text">向组件传递 props</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%A5%E9%AA%A4-1-%E5%B0%86-props-%E4%BC%A0%E9%80%92%E7%BB%99%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="nav-number">1.7.3.1.</span> <span class="nav-text">步骤 1: 将 props 传递给子组件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-2"><span class="nav-number">1.7.4.</span> <span class="nav-text">注意</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%A5%E9%AA%A4-2-%E5%9C%A8%E5%AD%90%E7%BB%84%E4%BB%B6%E4%B8%AD%E8%AF%BB%E5%8F%96-props"><span class="nav-number">1.7.4.1.</span> <span class="nav-text">步骤 2: 在子组件中读取 props</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-3"><span class="nav-number">1.7.5.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%99-prop-%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-number">1.7.6.</span> <span class="nav-text">给 prop 指定一个默认值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-JSX-%E5%B1%95%E5%BC%80%E8%AF%AD%E6%B3%95%E4%BC%A0%E9%80%92-props"><span class="nav-number">1.7.7.</span> <span class="nav-text">使用 JSX 展开语法传递 props</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86-JSX-%E4%BD%9C%E4%B8%BA%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92"><span class="nav-number">1.7.8.</span> <span class="nav-text">将 JSX 作为子组件传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Props-%E5%A6%82%E4%BD%95%E9%9A%8F%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96"><span class="nav-number">1.7.9.</span> <span class="nav-text">Props 如何随时间变化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="nav-number">1.8.</span> <span class="nav-text">条件渲染</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-5"><span class="nav-number">1.8.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%BF%94%E5%9B%9E-JSX"><span class="nav-number">1.8.2.</span> <span class="nav-text">条件返回 JSX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%80%A7%E5%9C%B0%E8%BF%94%E5%9B%9E-null"><span class="nav-number">1.8.3.</span> <span class="nav-text">选择性地返回 null</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%80%A7%E5%9C%B0%E5%8C%85%E5%90%AB-JSX"><span class="nav-number">1.8.4.</span> <span class="nav-text">选择性地包含 JSX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88-%EF%BC%89"><span class="nav-number">1.8.5.</span> <span class="nav-text">三目运算符（? :）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E4%B8%AA%E4%BE%8B%E5%AD%90%E5%AE%8C%E5%85%A8%E4%B8%80%E6%A0%B7%E5%90%97%EF%BC%9F"><span class="nav-number">1.8.5.1.</span> <span class="nav-text">两个例子完全一样吗？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88-%EF%BC%89"><span class="nav-number">1.8.6.</span> <span class="nav-text">与运算符（&amp;&amp;）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%B7%E9%98%B1"><span class="nav-number">1.8.6.1.</span> <span class="nav-text">陷阱</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%80%A7%E5%9C%B0%E5%B0%86-JSX-%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%98%E9%87%8F"><span class="nav-number">1.8.7.</span> <span class="nav-text">选择性地将 JSX 赋值给变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B8%B2%E6%9F%93%E5%88%97%E8%A1%A8"><span class="nav-number">1.9.</span> <span class="nav-text">渲染列表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-6"><span class="nav-number">1.9.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E6%95%B0%E7%BB%84%E4%B8%AD%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE"><span class="nav-number">1.9.2.</span> <span class="nav-text">从数组中渲染数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-4"><span class="nav-number">1.9.2.1.</span> <span class="nav-text">注意</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E6%95%B0%E7%BB%84%E9%A1%B9%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4"><span class="nav-number">1.9.3.</span> <span class="nav-text">对数组项进行过滤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%B7%E9%98%B1-1"><span class="nav-number">1.9.3.1.</span> <span class="nav-text">陷阱</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8-key-%E4%BF%9D%E6%8C%81%E5%88%97%E8%A1%A8%E9%A1%B9%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="nav-number">1.9.4.</span> <span class="nav-text">用 key 保持列表项的顺序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F-5"><span class="nav-number">1.9.4.1.</span> <span class="nav-text">注意</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E6%AF%8F%E4%B8%AA%E5%88%97%E8%A1%A8%E9%A1%B9%E6%98%BE%E7%A4%BA%E5%A4%9A%E4%B8%AA-DOM-%E8%8A%82%E7%82%B9"><span class="nav-number">1.9.5.</span> <span class="nav-text">为每个列表项显示多个 DOM 节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%AE%BE%E5%AE%9A-key-%E5%80%BC"><span class="nav-number">1.9.6.</span> <span class="nav-text">如何设定 key 值</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#key-%E9%9C%80%E8%A6%81%E6%BB%A1%E8%B6%B3%E7%9A%84%E6%9D%A1%E4%BB%B6"><span class="nav-number">1.9.6.1.</span> <span class="nav-text">key 需要满足的条件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#React-%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-key%EF%BC%9F"><span class="nav-number">1.9.6.2.</span> <span class="nav-text">React 中为什么需要 key？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%B7%E9%98%B1-2"><span class="nav-number">1.9.6.3.</span> <span class="nav-text">陷阱</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%9D%E6%8C%81%E7%BB%84%E4%BB%B6%E7%BA%AF%E7%B2%B9"><span class="nav-number">1.10.</span> <span class="nav-text">保持组件纯粹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%98%E8%A6%81-7"><span class="nav-number">1.10.1.</span> <span class="nav-text">摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%AF%E5%87%BD%E6%95%B0%EF%BC%9A%E7%BB%84%E4%BB%B6%E4%BD%9C%E4%B8%BA%E5%85%AC%E5%BC%8F"><span class="nav-number">1.10.2.</span> <span class="nav-text">纯函数：组件作为公式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%AF%E4%BD%9C%E7%94%A8%EF%BC%9A%EF%BC%88%E4%B8%8D%E7%AC%A6%E5%90%88%EF%BC%89%E9%A2%84%E6%9C%9F%E7%9A%84%E5%90%8E%E6%9E%9C"><span class="nav-number">1.10.3.</span> <span class="nav-text">副作用：（不符合）预期的后果</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E6%A3%80%E6%B5%8B%E4%B8%8D%E7%BA%AF%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="nav-number">1.10.3.1.</span> <span class="nav-text">使用严格模式检测不纯的计算</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%80%E9%83%A8-mutation%EF%BC%9A%E7%BB%84%E4%BB%B6%E7%9A%84%E5%B0%8F%E7%A7%98%E5%AF%86"><span class="nav-number">1.10.4.</span> <span class="nav-text">局部 mutation：组件的小秘密</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%AA%E4%BA%9B%E5%9C%B0%E6%96%B9-%E5%8F%AF%E8%83%BD-%E5%BC%95%E5%8F%91%E5%89%AF%E4%BD%9C%E7%94%A8"><span class="nav-number">1.10.5.</span> <span class="nav-text">哪些地方 可能 引发副作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#React-%E4%B8%BA%E4%BD%95%E4%BE%A7%E9%87%8D%E4%BA%8E%E7%BA%AF%E5%87%BD%E6%95%B0"><span class="nav-number">1.10.6.</span> <span class="nav-text">React 为何侧重于纯函数?</span></a></li></ol></li></ol></li></ol>
    </div>
</div>

            </div>
        </div>
    
</main>





<!-- common js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/header-shrink.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/back2top.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/toggle-theme.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/code-block.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/main.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/libs/anime.min.js"></script>

<!-- local search -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/local-search.min.js"></script>


<!-- lazyload -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/lazyload.min.js"></script>


<div class="">
    <!-- home page -->
    

    <!-- post page -->
    
        <!-- post-helper -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/post/post-helper.min.js"></script>

        <!-- toc -->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/post/toc.min.js"></script>
        

        <!-- copyright-info -->
        

        <!-- share -->
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.3/js/post/share.min.js"></script>
        
    

    <!-- categories page -->
    

    <!-- links page -->
    

    <!-- photos page -->
    

    <!-- tools page -->
    
</div>

<!-- mermaid -->


<!-- pjax -->



    
        
    
        
            
<script class="custom-inject-js" src="/js/love.js" data-pjax></script>

        
    

</body>
</html>
